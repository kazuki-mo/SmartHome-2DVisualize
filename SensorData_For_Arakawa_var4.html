<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">

<head>
    <meta charset="utf-8" />
    <title>Json Test</title>
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css" />
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.js"></script>

    <style>
        .canvas-chart {
            margin-left: 50px;
    </style>

    <script>

        $(document).ready(function () {

            var arasensorNum = 10;   // 人感センサの数

            var posArasensors = new Array(arasensorNum * 2);
            for (var i = 0; i < arasensorNum * 2;i++) {
                posArasensors[i] = 0.0;
            }

            var img_araSensor1 = new Image();
            var img_araSensors = new Array(arasensorNum);
            for (var i = 0; i < arasensorNum; i++) {
                img_araSensors[i] = new Image();
            }

            var img_araCircles = new Array(arasensorNum);
            for (var i = 0; i < arasensorNum; i++) {
                img_araCircles[i] = new Image();
            }

            var flag_araSensors = new Array(arasensorNum);
            for (var i = 0; i < arasensorNum; i++) {
                flag_araSensors[i] = false;
            }

            // 電力センサの情報を取得
            $.ajax({
                type: 'get',
                url: "http://8k3kx36e19v68g.home-ip.aterm.jp/sensorManagement/api/powerinfo/ConsumerElectronics",
                contentType: 'application/JSON',
                dataType: 'json',
                success: function (data) {

                    var power_options1 = $("#power-select-1").children();
                    var power_options2 = $("#power-select-2").children();
                    var power_options3 = $("#power-select-3").children();
                    var power_options4 = $("#power-select-4").children();
                    var power_options5 = $("#power-select-5").children();
                    var power_options6 = $("#power-select-6").children();
                    var power_options7 = $("#power-select-7").children();
                    var power_options8 = $("#power-select-8").children();
                    var power_options9 = $("#power-select-9").children();
                    for (var i = 1; i < power_options1.length; i++) {
                        var power_option1 = power_options1.eq(i);
                        if (data[i-1].ConsumerElectronics != null) {
                            power_option1.text(power_option1.text() + "  " + data[i - 1].ConsumerElectronics);
                        }
                        var power_option2 = power_options2.eq(i);
                        if (data[i-1].ConsumerElectronics != null) {
                            power_option2.text(power_option2.text() + "  " + data[i - 1].ConsumerElectronics);
                        }
                        var power_option3 = power_options3.eq(i);
                        if (data[i-1].ConsumerElectronics != null) {
                            power_option3.text(power_option3.text() + "  " + data[i - 1].ConsumerElectronics);
                        }
                        var power_option4 = power_options4.eq(i);
                        if (data[i-1].ConsumerElectronics != null) {
                            power_option4.text(power_option4.text() + "  " + data[i - 1].ConsumerElectronics);
                        }
                        var power_option5 = power_options5.eq(i);
                        if (data[i-1].ConsumerElectronics != null) {
                            power_option5.text(power_option5.text() + "  " + data[i - 1].ConsumerElectronics);
                        }
                        var power_option6 = power_options6.eq(i);
                        if (data[i-1].ConsumerElectronics != null) {
                            power_option6.text(power_option6.text() + "  " + data[i - 1].ConsumerElectronics);
                        }
                        var power_option7 = power_options7.eq(i);
                        if (data[i-1].ConsumerElectronics != null) {
                            power_option7.text(power_option7.text() + "  " + data[i - 1].ConsumerElectronics);
                        }
                        var power_option8 = power_options8.eq(i);
                        if (data[i-1].ConsumerElectronics != null) {
                            power_option8.text(power_option8.text() + "  " + data[i - 1].ConsumerElectronics);
                        }
                        var power_option9 = power_options9.eq(i);
                        if (data[i-1].ConsumerElectronics != null) {
                            power_option9.text(power_option9.text() + "  " + data[i - 1].ConsumerElectronics);
                        }
                    }

                },
                error: function (data, err) {
                    //alert('エラー' + err);
                }
            });

            // 開閉センサの情報を取得
            $.ajax({
                type: 'get',
                url: "http://8k3kx36e19v68g.home-ip.aterm.jp/sensorManagement/api/doorinfo/Door",
                contentType: 'application/JSON',
                dataType: 'json',
                success: function (data) {

                    var door_options1 = $("#door-select-1").children();
                    var door_options2 = $("#door-select-2").children();
                    var door_options3 = $("#door-select-3").children();
                    var door_options4 = $("#door-select-4").children();
                    var door_options5 = $("#door-select-5").children();
                    var door_options6 = $("#door-select-6").children();
                    var door_options7 = $("#door-select-7").children();
                    var door_options8 = $("#door-select-8").children();
                    var door_options9 = $("#door-select-9").children();
                    for (var i = 1; i < door_options1.length; i++) {
                        var door_option = door_options1.eq(i);
                        if (data[i-1].Door != null) {
                            door_option.text(door_option.text() + "  " + data[i-1].Door);
                        }
                        door_option = door_options2.eq(i);
                        if (data[i-1].Door != null) {
                            door_option.text(door_option.text() + "  " + data[i - 1].Door);
                        }
                        door_option = door_options3.eq(i);
                        if (data[i-1].Door != null) {
                            door_option.text(door_option.text() + "  " + data[i - 1].Door);
                        }
                        door_option = door_options4.eq(i);
                        if (data[i-1].Door != null) {
                            door_option.text(door_option.text() + "  " + data[i - 1].Door);
                        }
                        door_option = door_options5.eq(i);
                        if (data[i-1].Door != null) {
                            door_option.text(door_option.text() + "  " + data[i - 1].Door);
                        }
                        door_option = door_options6.eq(i);
                        if (data[i-1].Door != null) {
                            door_option.text(door_option.text() + "  " + data[i - 1].Door);
                        }
                        door_option = door_options7.eq(i);
                        if (data[i-1].Door != null) {
                            door_option.text(door_option.text() + "  " + data[i - 1].Door);
                        }
                        door_option = door_options8.eq(i);
                        if (data[i-1].Door != null) {
                            door_option.text(door_option.text() + "  " + data[i - 1].Door);
                        }
                        door_option = door_options9.eq(i);
                        if (data[i-1].Door != null) {
                            door_option.text(door_option.text() + "  " + data[i - 1].Door);
                        }
                    }

                },
                error: function (data, err) {
                    //alert('エラー' + err);
                }
            });

            // 人感センサの設置位置を取得
            $.ajax({
                type: 'get',
                url: 'http://8k3kx36e19v68g.home-ip.aterm.jp/Cats/api/module/arakawa/SensorPosition',
                contentType: 'application/JSON',
                dataType: 'json',
                scriptCharset: 'utf-8',

                success: function (response) {

                    console.log("Response : =" + JSON.stringify(response));
                    var latest = response.Latest;

                    var queryData = { pw: null, since: latest, until: latest, num: 1, orderby: "desc", unitlist: null, noDate: true };

                    $.ajax({
                        type: 'post',
                        url: 'http://8k3kx36e19v68g.home-ip.aterm.jp/Cats/api/data/arakawa/SensorPosition',
                        data: JSON.stringify(queryData),
                        contentType: 'application/JSON',
                        dataType: 'json',
                        scriptCharset: 'utf-8',

                        success: function (response) {
                            console.log("Response : =" + JSON.stringify(response));

                            if (Object.keys(response.data).length == 0) {
                                alert("注意: 人感センサの設置位置座標情報がありません。");
                            }

                            var max = Object.keys(response.data[0]).length;
                            console.log("max: " + max);

                            for (var i = 0; i < arasensorNum * 2; i++) {
                                if (i >= max) {
                                    break;
                                }
                                if (response.data[0][i] == "") {
                                    posArasensors[i] = 0;
                                } else {
                                    posArasensors[i] = parseFloat(response.data[0][i]);
                                }
                                
                                console.log("posArasensor: " + posArasensors[i]);
                            }

                        },

                        error: function (errorMsg) {
                        }

                    });
                },

                error: function (errorMsg) {
                }

            });

            var power_myLineChart1;
            var power_myLineChart2;
            var power_myLineChart3;
            var power_myLineChart4;
            var power_myLineChart5;
            var power_myLineChart6;
            var power_myLineChart7;
            var power_myLineChart8;
            var power_myLineChart9;
            var environment_myLineChart1;
            var environment_myLineChart2;
            var environment_myLineChart3;
            var environment_myLineChart4;
            var environment_myLineChart5;
            var environment_myLineChart6;
            var door_myLineChart1;
            var door_myLineChart2;
            var door_myLineChart3;
            var door_myLineChart4;
            var door_myLineChart5;
            var door_myLineChart6;
            var door_myLineChart7;
            var door_myLineChart8;
            var door_myLineChart9;
            var option;
            var GetStart_Flag_Power = false;
            var GetStart_Flag_Environment = false;
            var GetStart_Flag_Door = false;
            var GetStart_Flag_Position = false;
            var GetStart_Flag_AraSensor = false;

            var positionsensor1_x = 1243.0;
            var positionsensor1_y = 805.0;
            var positionsensor2_x = 397.0;
            var positionsensor2_y = 805.0;
            var positionsensor3_x = 1243.0;
            var positionsensor3_y = 0.0;
            var positionsensor4_x = 0.0;
            var positionsensor4_y = 0.0;
            var positioncanvas;
            var positionctx;
            var img_house = new Image();
            var img_positionsensor1 = new Image();
            var img_positionsensor2 = new Image();
            var img_positionsensor3 = new Image();
            var img_positionsensor4 = new Image();

            var flag;
            var posX;
            var posY;

            var position_pastData1;
            var position_pastData2;
            var position_pastData3;
            var position_pastData4;
            var human_pastData;
            var nowDate;
            var nowpoint = 0;
            var Flag_Play = false;
            var Flag_PositionPastMode = false;

            $("#powerShow").hide();
            $("#environmentShow").hide();
            $("#doorShow").hide();
            $("#positionShow").hide();

            // メニューバークリック処理
            $("#power-real").click(function () {
                Flag_PositionPastMode = false;
                $("#environmentShow").hide();
                $("#doorShow").hide();
                $("#positionShow").hide();
                $("#Lb_select_mode").hide();
                var href = location.href;
                href = href.substring(0, href.indexOf("SensorData/")) + "SensorData/";
                $("#Im_icon_power").attr({
                    src: href + "images/電力ボタン1.png",
                    width: 260,
                    height: 70
                });
                $("#powerShow").show();


                var power_ctx1 = $("#power-myChart1").get(0).getContext("2d");
                var power_ctx2 = $("#power-myChart2").get(0).getContext("2d");
                var power_ctx3 = $("#power-myChart3").get(0).getContext("2d");
                var power_ctx4 = $("#power-myChart4").get(0).getContext("2d");
                var power_ctx5 = $("#power-myChart5").get(0).getContext("2d");
                var power_ctx6 = $("#power-myChart6").get(0).getContext("2d");
                var power_ctx7 = $("#power-myChart7").get(0).getContext("2d");
                var power_ctx8 = $("#power-myChart8").get(0).getContext("2d");
                var power_ctx9 = $("#power-myChart9").get(0).getContext("2d");
                //var myNewChart = new Chart(ctx);
                //myNewChart.PolarArea(data, options);

                Chart.defaults.global = {
                    // Boolean - Whether to animate the chart
                    animation: true,

                    // Number - Number of animation steps
                    animationSteps: 60,

                    // String - Animation easing effect
                    // Possible effects are:
                    // [easeInOutQuart, linear, easeOutBounce, easeInBack, easeInOutQuad,
                    //  easeOutQuart, easeOutQuad, easeInOutBounce, easeOutSine, easeInOutCubic,
                    //  easeInExpo, easeInOutBack, easeInCirc, easeInOutElastic, easeOutBack,
                    //  easeInQuad, easeInOutExpo, easeInQuart, easeOutQuint, easeInOutCirc,
                    //  easeInSine, easeOutExpo, easeOutCirc, easeOutCubic, easeInQuint,
                    //  easeInElastic, easeInOutSine, easeInOutQuint, easeInBounce,
                    //  easeOutElastic, easeInCubic]
                    animationEasing: "easeOutQuart",

                    // Boolean - If we should show the scale at all
                    showScale: true,

                    // Boolean - If we want to override with a hard coded scale
                    scaleOverride: false,

                    // ** Required if scaleOverride is true **
                    // Number - The number of steps in a hard coded scale
                    scaleSteps: null,
                    // Number - The value jump in the hard coded scale
                    scaleStepWidth: null,
                    // Number - The scale starting value
                    scaleStartValue: null,

                    // String - Colour of the scale line
                    scaleLineColor: "rgba(0,0,0,.1)",

                    // Number - Pixel width of the scale line
                    scaleLineWidth: 1,

                    // Boolean - Whether to show labels on the scale
                    scaleShowLabels: true,

                    // Interpolated JS string - can access value
                    scaleLabel: "<%=value%>",

                    // Boolean - Whether the scale should stick to integers, not floats even if drawing space is there
                    scaleIntegersOnly: true,

                    // Boolean - Whether the scale should start at zero, or an order of magnitude down from the lowest value
                    scaleBeginAtZero: false,

                    // String - Scale label font declaration for the scale label
                    scaleFontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",

                    // Number - Scale label font size in pixels
                    scaleFontSize: 12,

                    // String - Scale label font weight style
                    scaleFontStyle: "normal",

                    // String - Scale label font colour
                    scaleFontColor: "#666",

                    // Boolean - whether or not the chart should be responsive and resize when the browser does.
                    responsive: false,

                    // Boolean - whether to maintain the starting aspect ratio or not when responsive, if set to false, will take up entire container
                    maintainAspectRatio: true,

                    // Boolean - Determines whether to draw tooltips on the canvas or not
                    showTooltips: true,

                    // Function - Determines whether to execute the customTooltips function instead of drawing the built in tooltips (See [Advanced - External Tooltips](#advanced-usage-custom-tooltips))
                    customTooltips: false,

                    // Array - Array of string names to attach tooltip events
                    tooltipEvents: ["mousemove", "touchstart", "touchmove"],

                    // String - Tooltip background colour
                    tooltipFillColor: "rgba(0,0,0,0.8)",

                    // String - Tooltip label font declaration for the scale label
                    tooltipFontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",

                    // Number - Tooltip label font size in pixels
                    tooltipFontSize: 14,

                    // String - Tooltip font weight style
                    tooltipFontStyle: "normal",

                    // String - Tooltip label font colour
                    tooltipFontColor: "#fff",

                    // String - Tooltip title font declaration for the scale label
                    tooltipTitleFontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",

                    // Number - Tooltip title font size in pixels
                    tooltipTitleFontSize: 14,

                    // String - Tooltip title font weight style
                    tooltipTitleFontStyle: "bold",

                    // String - Tooltip title font colour
                    tooltipTitleFontColor: "#fff",

                    // Number - pixel width of padding around tooltip text
                    tooltipYPadding: 6,

                    // Number - pixel width of padding around tooltip text
                    tooltipXPadding: 6,

                    // Number - Size of the caret on the tooltip
                    tooltipCaretSize: 8,

                    // Number - Pixel radius of the tooltip border
                    tooltipCornerRadius: 6,

                    // Number - Pixel offset from point x to tooltip edge
                    tooltipXOffset: 10,

                    // String - Template string for single tooltips
                    tooltipTemplate: "<%if (label){%><%=label%>: <%}%><%= value %>",

                    // String - Template string for multiple tooltips
                    multiTooltipTemplate: "<%= value %>",

                    // Function - Will fire on animation progression.
                    onAnimationProgress: function () { },

                    // Function - Will fire on animation completion.
                    onAnimationComplete: function () { }



                }
                //Chart.defaults.global.responsive = true;



                var power_data1 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var power_data2 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var power_data3 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var power_data4 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var power_data5 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var power_data6 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var power_data7 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var power_data8 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var power_data9 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };

                option = {

                    //// Boolean - If we want to override with a hard coded scale
                    //scaleOverride: true,

                    //// ** Required if scaleOverride is true **
                    //// Number - The number of steps in a hard coded scale
                    //scaleSteps: 10,
                    //// Number - The value jump in the hard coded scale
                    //scaleStepWidth: 50,
                    //// Number - The scale starting value
                    //scaleStartValue: 0,

                    ///Boolean - Whether grid lines are shown across the chart
                    scaleShowGridLines: true,

                    //String - Colour of the grid lines
                    scaleGridLineColor: "rgba(0,0,0,.05)",

                    //Number - Width of the grid lines
                    scaleGridLineWidth: 1,

                    //Boolean - Whether to show horizontal lines (except X axis)
                    scaleShowHorizontalLines: true,

                    //Boolean - Whether to show vertical lines (except Y axis)
                    scaleShowVerticalLines: true,

                    //Boolean - Whether the line is curved between points
                    bezierCurve: false,

                    //Number - Tension of the bezier curve between points
                    bezierCurveTension: 0.4,

                    //Boolean - Whether to show a dot for each point
                    pointDot: true,

                    //Number - Radius of each point dot in pixels
                    pointDotRadius: 4,

                    //Number - Pixel width of point dot stroke
                    pointDotStrokeWidth: 1,

                    //Number - amount extra to add to the radius to cater for hit detection outside the drawn point
                    pointHitDetectionRadius: 20,

                    //Boolean - Whether to show a stroke for datasets
                    datasetStroke: true,

                    //Number - Pixel width of dataset stroke
                    datasetStrokeWidth: 2,

                    //Boolean - Whether to fill the dataset with a colour
                    datasetFill: true,

                    //String - A legend template
                    legendTemplate: "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].strokeColor%>\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>"

                };

                power_myLineChart1 = new Chart(power_ctx1).Line(power_data1, option);
                power_myLineChart2 = new Chart(power_ctx2).Line(power_data2, option);
                power_myLineChart3 = new Chart(power_ctx3).Line(power_data3, option);
                power_myLineChart4 = new Chart(power_ctx4).Line(power_data4, option);
                power_myLineChart5 = new Chart(power_ctx5).Line(power_data5, option);
                power_myLineChart6 = new Chart(power_ctx6).Line(power_data6, option);
                power_myLineChart7 = new Chart(power_ctx7).Line(power_data7, option);
                power_myLineChart8 = new Chart(power_ctx8).Line(power_data8, option);
                power_myLineChart9 = new Chart(power_ctx9).Line(power_data9, option);
            });
            $("#environment-real").click(function () {
                Flag_PositionPastMode = false;
                $("#powerShow").hide();
                $("#doorShow").hide();
                $("#positionShow").hide();
                $("#Lb_select_mode").hide();
                var href = location.href;
                href = href.substring(0, href.indexOf("SensorData/")) + "SensorData/";
                $("#Im_icon_environment").attr({
                    src: href + "images/環境ボタン1.png",
                    width: 260,
                    height: 70
                });
                $("#Im_legend_environment").attr({
                    src: href + "images/環境センサ_凡例.png",
                    width: 750,
                    height: 62
                });
                $("#environmentShow").show();


                var environment_ctx1 = $("#environment-myChart1").get(0).getContext("2d");
                var environment_ctx2 = $("#environment-myChart2").get(0).getContext("2d");
                var environment_ctx3 = $("#environment-myChart3").get(0).getContext("2d");
                var environment_ctx4 = $("#environment-myChart4").get(0).getContext("2d");
                var environment_ctx5 = $("#environment-myChart5").get(0).getContext("2d");
                var environment_ctx6 = $("#environment-myChart6").get(0).getContext("2d");
                //var myNewChart = new Chart(ctx);
                //myNewChart.PolarArea(data, options);

                Chart.defaults.global = {
                    // Boolean - Whether to animate the chart
                    animation: true,

                    // Number - Number of animation steps
                    animationSteps: 60,

                    // String - Animation easing effect
                    // Possible effects are:
                    // [easeInOutQuart, linear, easeOutBounce, easeInBack, easeInOutQuad,
                    //  easeOutQuart, easeOutQuad, easeInOutBounce, easeOutSine, easeInOutCubic,
                    //  easeInExpo, easeInOutBack, easeInCirc, easeInOutElastic, easeOutBack,
                    //  easeInQuad, easeInOutExpo, easeInQuart, easeOutQuint, easeInOutCirc,
                    //  easeInSine, easeOutExpo, easeOutCirc, easeOutCubic, easeInQuint,
                    //  easeInElastic, easeInOutSine, easeInOutQuint, easeInBounce,
                    //  easeOutElastic, easeInCubic]
                    animationEasing: "easeOutQuart",

                    // Boolean - If we should show the scale at all
                    showScale: true,

                    // Boolean - If we want to override with a hard coded scale
                    scaleOverride: false,

                    // ** Required if scaleOverride is true **
                    // Number - The number of steps in a hard coded scale
                    scaleSteps: null,
                    // Number - The value jump in the hard coded scale
                    scaleStepWidth: null,
                    // Number - The scale starting value
                    scaleStartValue: null,

                    // String - Colour of the scale line
                    scaleLineColor: "rgba(0,0,0,.1)",

                    // Number - Pixel width of the scale line
                    scaleLineWidth: 1,

                    // Boolean - Whether to show labels on the scale
                    scaleShowLabels: true,

                    // Interpolated JS string - can access value
                    scaleLabel: "<%=value%>",

                    // Boolean - Whether the scale should stick to integers, not floats even if drawing space is there
                    scaleIntegersOnly: true,

                    // Boolean - Whether the scale should start at zero, or an order of magnitude down from the lowest value
                    scaleBeginAtZero: false,

                    // String - Scale label font declaration for the scale label
                    scaleFontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",

                    // Number - Scale label font size in pixels
                    scaleFontSize: 12,

                    // String - Scale label font weight style
                    scaleFontStyle: "normal",

                    // String - Scale label font colour
                    scaleFontColor: "#666",

                    // Boolean - whether or not the chart should be responsive and resize when the browser does.
                    responsive: false,

                    // Boolean - whether to maintain the starting aspect ratio or not when responsive, if set to false, will take up entire container
                    maintainAspectRatio: true,

                    // Boolean - Determines whether to draw tooltips on the canvas or not
                    showTooltips: true,

                    // Function - Determines whether to execute the customTooltips function instead of drawing the built in tooltips (See [Advanced - External Tooltips](#advanced-usage-custom-tooltips))
                    customTooltips: false,

                    // Array - Array of string names to attach tooltip events
                    tooltipEvents: ["mousemove", "touchstart", "touchmove"],

                    // String - Tooltip background colour
                    tooltipFillColor: "rgba(0,0,0,0.8)",

                    // String - Tooltip label font declaration for the scale label
                    tooltipFontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",

                    // Number - Tooltip label font size in pixels
                    tooltipFontSize: 14,

                    // String - Tooltip font weight style
                    tooltipFontStyle: "normal",

                    // String - Tooltip label font colour
                    tooltipFontColor: "#fff",

                    // String - Tooltip title font declaration for the scale label
                    tooltipTitleFontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",

                    // Number - Tooltip title font size in pixels
                    tooltipTitleFontSize: 14,

                    // String - Tooltip title font weight style
                    tooltipTitleFontStyle: "bold",

                    // String - Tooltip title font colour
                    tooltipTitleFontColor: "#fff",

                    // Number - pixel width of padding around tooltip text
                    tooltipYPadding: 6,

                    // Number - pixel width of padding around tooltip text
                    tooltipXPadding: 6,

                    // Number - Size of the caret on the tooltip
                    tooltipCaretSize: 8,

                    // Number - Pixel radius of the tooltip border
                    tooltipCornerRadius: 6,

                    // Number - Pixel offset from point x to tooltip edge
                    tooltipXOffset: 10,

                    // String - Template string for single tooltips
                    tooltipTemplate: "<%if (label){%><%=label%>: <%}%><%= value %>",

                    // String - Template string for multiple tooltips
                    multiTooltipTemplate: "<%= value %>",

                    // Function - Will fire on animation progression.
                    onAnimationProgress: function () { },

                    // Function - Will fire on animation completion.
                    onAnimationComplete: function () { }



                }
                //Chart.defaults.global.responsive = true;



                var environment_data1 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(250,128,114,0.2)",
                            strokeColor: "rgba(250,128,114,1)",
                            pointColor: "rgba(250,128,114,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }, {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }, {
                            label: "My Second dataset",
                            fillColor: "rgba(0,255,0,0.2)",
                            strokeColor: "rgba(0,255,0,1)",
                            pointColor: "rgba(0,255,0,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }, {
                            label: "My Second dataset",
                            fillColor: "rgba(133,133,133,0.2)",
                            strokeColor: "rgba(133,133,133,1)",
                            pointColor: "rgba(133,133,133,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var environment_data2 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(250,128,114,0.2)",
                            strokeColor: "rgba(250,128,114,1)",
                            pointColor: "rgba(250,128,114,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }, {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }, {
                            label: "My Second dataset",
                            fillColor: "rgba(0,255,0,0.2)",
                            strokeColor: "rgba(0,255,0,1)",
                            pointColor: "rgba(0,255,0,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }, {
                            label: "My Second dataset",
                            fillColor: "rgba(133,133,133,0.2)",
                            strokeColor: "rgba(133,133,133,1)",
                            pointColor: "rgba(220,220,220,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var environment_data3 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(250,128,114,0.2)",
                            strokeColor: "rgba(250,128,114,1)",
                            pointColor: "rgba(250,128,114,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }, {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }, {
                            label: "My Second dataset",
                            fillColor: "rgba(0,255,0,0.2)",
                            strokeColor: "rgba(0,255,0,1)",
                            pointColor: "rgba(0,255,0,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }, {
                            label: "My Second dataset",
                            fillColor: "rgba(133,133,133,0.2)",
                            strokeColor: "rgba(133,133,133,1)",
                            pointColor: "rgba(220,220,220,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var environment_data4 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(250,128,114,0.2)",
                            strokeColor: "rgba(250,128,114,1)",
                            pointColor: "rgba(250,128,114,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }, {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }, {
                            label: "My Second dataset",
                            fillColor: "rgba(0,255,0,0.2)",
                            strokeColor: "rgba(0,255,0,1)",
                            pointColor: "rgba(0,255,0,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }, {
                            label: "My Second dataset",
                            fillColor: "rgba(133,133,133,0.2)",
                            strokeColor: "rgba(133,133,133,1)",
                            pointColor: "rgba(220,220,220,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var environment_data5 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(250,128,114,0.2)",
                            strokeColor: "rgba(250,128,114,1)",
                            pointColor: "rgba(250,128,114,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }, {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }, {
                            label: "My Second dataset",
                            fillColor: "rgba(0,255,0,0.2)",
                            strokeColor: "rgba(0,255,0,1)",
                            pointColor: "rgba(0,255,0,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }, {
                            label: "My Second dataset",
                            fillColor: "rgba(133,133,133,0.2)",
                            strokeColor: "rgba(133,133,133,1)",
                            pointColor: "rgba(220,220,220,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var environment_data6 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(250,128,114,0.2)",
                            strokeColor: "rgba(250,128,114,1)",
                            pointColor: "rgba(250,128,114,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }, {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }, {
                            label: "My Second dataset",
                            fillColor: "rgba(0,255,0,0.2)",
                            strokeColor: "rgba(0,255,0,1)",
                            pointColor: "rgba(0,255,0,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }, {
                            label: "My Second dataset",
                            fillColor: "rgba(133,133,133,0.2)",
                            strokeColor: "rgba(133,133,133,1)",
                            pointColor: "rgba(220,220,220,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };

                option = {

                    //// Boolean - If we want to override with a hard coded scale
                    //scaleOverride: true,

                    //// ** Required if scaleOverride is true **
                    //// Number - The number of steps in a hard coded scale
                    //scaleSteps: 10,
                    //// Number - The value jump in the hard coded scale
                    //scaleStepWidth: 50,
                    //// Number - The scale starting value
                    //scaleStartValue: 0,

                    ///Boolean - Whether grid lines are shown across the chart
                    scaleShowGridLines: true,

                    //String - Colour of the grid lines
                    scaleGridLineColor: "rgba(0,0,0,.05)",

                    //Number - Width of the grid lines
                    scaleGridLineWidth: 1,

                    //Boolean - Whether to show horizontal lines (except X axis)
                    scaleShowHorizontalLines: true,

                    //Boolean - Whether to show vertical lines (except Y axis)
                    scaleShowVerticalLines: true,

                    //Boolean - Whether the line is curved between points
                    bezierCurve: false,

                    //Number - Tension of the bezier curve between points
                    bezierCurveTension: 0.4,

                    //Boolean - Whether to show a dot for each point
                    pointDot: true,

                    //Number - Radius of each point dot in pixels
                    pointDotRadius: 4,

                    //Number - Pixel width of point dot stroke
                    pointDotStrokeWidth: 1,

                    //Number - amount extra to add to the radius to cater for hit detection outside the drawn point
                    pointHitDetectionRadius: 20,

                    //Boolean - Whether to show a stroke for datasets
                    datasetStroke: true,

                    //Number - Pixel width of dataset stroke
                    datasetStrokeWidth: 2,

                    //Boolean - Whether to fill the dataset with a colour
                    datasetFill: true,

                    //String - A legend template
                    legendTemplate: "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].strokeColor%>\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>"

                };

                environment_myLineChart1 = new Chart(environment_ctx1).Line(environment_data1, option);
                environment_myLineChart2 = new Chart(environment_ctx2).Line(environment_data2, option);
                environment_myLineChart3 = new Chart(environment_ctx3).Line(environment_data3, option);
                environment_myLineChart4 = new Chart(environment_ctx4).Line(environment_data4, option);
                environment_myLineChart5 = new Chart(environment_ctx5).Line(environment_data5, option);
                environment_myLineChart6 = new Chart(environment_ctx6).Line(environment_data6, option);
            });
            $("#door-real").click(function () {
                Flag_PositionPastMode = false;
                $("#environmentShow").hide();
                $("#powerShow").hide();
                $("#positionShow").hide();
                $("#Lb_select_mode").hide();
                var href = location.href;
                href = href.substring(0, href.indexOf("SensorData/")) + "SensorData/";
                $("#Im_icon_door").attr({
                    src: href + "images/開閉ボタン1.png",
                    width: 260,
                    height: 70
                });
                $("#doorShow").show();


                var door_ctx1 = $("#door-myChart1").get(0).getContext("2d");
                var door_ctx2 = $("#door-myChart2").get(0).getContext("2d");
                var door_ctx3 = $("#door-myChart3").get(0).getContext("2d");
                var door_ctx4 = $("#door-myChart4").get(0).getContext("2d");
                var door_ctx5 = $("#door-myChart5").get(0).getContext("2d");
                var door_ctx6 = $("#door-myChart6").get(0).getContext("2d");
                var door_ctx7 = $("#door-myChart7").get(0).getContext("2d");
                var door_ctx8 = $("#door-myChart8").get(0).getContext("2d");
                var door_ctx9 = $("#door-myChart9").get(0).getContext("2d");
                //var myNewChart = new Chart(ctx);
                //myNewChart.PolarArea(data, options);

                Chart.defaults.global = {
                    // Boolean - Whether to animate the chart
                    animation: true,

                    // Number - Number of animation steps
                    animationSteps: 60,

                    // String - Animation easing effect
                    // Possible effects are:
                    // [easeInOutQuart, linear, easeOutBounce, easeInBack, easeInOutQuad,
                    //  easeOutQuart, easeOutQuad, easeInOutBounce, easeOutSine, easeInOutCubic,
                    //  easeInExpo, easeInOutBack, easeInCirc, easeInOutElastic, easeOutBack,
                    //  easeInQuad, easeInOutExpo, easeInQuart, easeOutQuint, easeInOutCirc,
                    //  easeInSine, easeOutExpo, easeOutCirc, easeOutCubic, easeInQuint,
                    //  easeInElastic, easeInOutSine, easeInOutQuint, easeInBounce,
                    //  easeOutElastic, easeInCubic]
                    animationEasing: "easeOutQuart",

                    // Boolean - If we should show the scale at all
                    showScale: true,

                    // Boolean - If we want to override with a hard coded scale
                    scaleOverride: false,

                    // ** Required if scaleOverride is true **
                    // Number - The number of steps in a hard coded scale
                    scaleSteps: null,
                    // Number - The value jump in the hard coded scale
                    scaleStepWidth: null,
                    // Number - The scale starting value
                    scaleStartValue: null,

                    // String - Colour of the scale line
                    scaleLineColor: "rgba(0,0,0,.1)",

                    // Number - Pixel width of the scale line
                    scaleLineWidth: 1,

                    // Boolean - Whether to show labels on the scale
                    scaleShowLabels: true,

                    // Interpolated JS string - can access value
                    scaleLabel: "<%=value%>",

                    // Boolean - Whether the scale should stick to integers, not floats even if drawing space is there
                    scaleIntegersOnly: true,

                    // Boolean - Whether the scale should start at zero, or an order of magnitude down from the lowest value
                    scaleBeginAtZero: false,

                    // String - Scale label font declaration for the scale label
                    scaleFontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",

                    // Number - Scale label font size in pixels
                    scaleFontSize: 12,

                    // String - Scale label font weight style
                    scaleFontStyle: "normal",

                    // String - Scale label font colour
                    scaleFontColor: "#666",

                    // Boolean - whether or not the chart should be responsive and resize when the browser does.
                    responsive: false,

                    // Boolean - whether to maintain the starting aspect ratio or not when responsive, if set to false, will take up entire container
                    maintainAspectRatio: true,

                    // Boolean - Determines whether to draw tooltips on the canvas or not
                    showTooltips: true,

                    // Function - Determines whether to execute the customTooltips function instead of drawing the built in tooltips (See [Advanced - External Tooltips](#advanced-usage-custom-tooltips))
                    customTooltips: false,

                    // Array - Array of string names to attach tooltip events
                    tooltipEvents: ["mousemove", "touchstart", "touchmove"],

                    // String - Tooltip background colour
                    tooltipFillColor: "rgba(0,0,0,0.8)",

                    // String - Tooltip label font declaration for the scale label
                    tooltipFontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",

                    // Number - Tooltip label font size in pixels
                    tooltipFontSize: 14,

                    // String - Tooltip font weight style
                    tooltipFontStyle: "normal",

                    // String - Tooltip label font colour
                    tooltipFontColor: "#fff",

                    // String - Tooltip title font declaration for the scale label
                    tooltipTitleFontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",

                    // Number - Tooltip title font size in pixels
                    tooltipTitleFontSize: 14,

                    // String - Tooltip title font weight style
                    tooltipTitleFontStyle: "bold",

                    // String - Tooltip title font colour
                    tooltipTitleFontColor: "#fff",

                    // Number - pixel width of padding around tooltip text
                    tooltipYPadding: 6,

                    // Number - pixel width of padding around tooltip text
                    tooltipXPadding: 6,

                    // Number - Size of the caret on the tooltip
                    tooltipCaretSize: 8,

                    // Number - Pixel radius of the tooltip border
                    tooltipCornerRadius: 6,

                    // Number - Pixel offset from point x to tooltip edge
                    tooltipXOffset: 10,

                    // String - Template string for single tooltips
                    tooltipTemplate: "<%if (label){%><%=label%>: <%}%><%= value %>",

                    // String - Template string for multiple tooltips
                    multiTooltipTemplate: "<%= value %>",

                    // Function - Will fire on animation progression.
                    onAnimationProgress: function () { },

                    // Function - Will fire on animation completion.
                    onAnimationComplete: function () { }



                }
                //Chart.defaults.global.responsive = true;



                var door_data1 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var door_data2 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var door_data3 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var door_data4 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var door_data5 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var door_data6 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var door_data7 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var door_data8 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };
                var door_data9 = {
                    labels: ["", "", "", "", "", "", "", "", "", ""],
                    datasets: [
                        {
                            label: "My Second dataset",
                            fillColor: "rgba(151,187,205,0.2)",
                            strokeColor: "rgba(151,187,205,1)",
                            pointColor: "rgba(151,187,205,1)",
                            pointStrokeColor: "#fff",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(151,187,205,1)",
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                        }
                    ]
                };

                option = {

                    //// Boolean - If we want to override with a hard coded scale
                    //scaleOverride: true,

                    //// ** Required if scaleOverride is true **
                    //// Number - The number of steps in a hard coded scale
                    //scaleSteps: 10,
                    //// Number - The value jump in the hard coded scale
                    //scaleStepWidth: 50,
                    //// Number - The scale starting value
                    //scaleStartValue: 0,

                    ///Boolean - Whether grid lines are shown across the chart
                    scaleShowGridLines: true,

                    //String - Colour of the grid lines
                    scaleGridLineColor: "rgba(0,0,0,.05)",

                    //Number - Width of the grid lines
                    scaleGridLineWidth: 1,

                    //Boolean - Whether to show horizontal lines (except X axis)
                    scaleShowHorizontalLines: true,

                    //Boolean - Whether to show vertical lines (except Y axis)
                    scaleShowVerticalLines: true,

                    //Boolean - Whether the line is curved between points
                    bezierCurve: false,

                    //Number - Tension of the bezier curve between points
                    bezierCurveTension: 0.4,

                    //Boolean - Whether to show a dot for each point
                    pointDot: true,

                    //Number - Radius of each point dot in pixels
                    pointDotRadius: 4,

                    //Number - Pixel width of point dot stroke
                    pointDotStrokeWidth: 1,

                    //Number - amount extra to add to the radius to cater for hit detection outside the drawn point
                    pointHitDetectionRadius: 20,

                    //Boolean - Whether to show a stroke for datasets
                    datasetStroke: true,

                    //Number - Pixel width of dataset stroke
                    datasetStrokeWidth: 2,

                    //Boolean - Whether to fill the dataset with a colour
                    datasetFill: true,

                    //String - A legend template
                    legendTemplate: "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].strokeColor%>\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>"

                };

                door_myLineChart1 = new Chart(door_ctx1).Line(door_data1, option);
                door_myLineChart2 = new Chart(door_ctx2).Line(door_data2, option);
                door_myLineChart3 = new Chart(door_ctx3).Line(door_data3, option);
                door_myLineChart4 = new Chart(door_ctx4).Line(door_data4, option);
                door_myLineChart5 = new Chart(door_ctx5).Line(door_data5, option);
                door_myLineChart6 = new Chart(door_ctx6).Line(door_data6, option);
                door_myLineChart7 = new Chart(door_ctx7).Line(door_data7, option);
                door_myLineChart8 = new Chart(door_ctx8).Line(door_data8, option);
                door_myLineChart9 = new Chart(door_ctx9).Line(door_data9, option);
            });
            $("#position-real").click(function () {
                Flag_PositionPastMode = false;
                $("#environmentShow").hide();
                $("#doorShow").hide();
                $("#powerShow").hide();
                $("#Lb_select_mode").hide();
                var href = location.href;
                href = href.substring(0, href.indexOf("SensorData/")) + "SensorData/";
                $("#Im_icon_position").attr({
                    src: href + "images/位置ボタン1.png",
                    width: 260,
                    height: 70
                });
                $("#positionShow").show();
                $("#positionShow_real").show();
                $("#positionShow_past").hide();

                positioncanvas = document.getElementById('position-Canvas');
                positionctx = positioncanvas.getContext('2d');

                
                img_house.src = href + "images/house.png";
                img_house.onload = function () {
                    positionctx.clearRect(0, 0, positioncanvas.width, positioncanvas.height);
                    positionctx.drawImage(img_house, 0, 100, 1310, 834);
                    sensorImgAdd();
                }

                function sensorImgAdd() {

                    img_positionsensor4.src = href + "images/pin_black_4.png";
                    img_positionsensor4.onload = function () {
                        positionctx.drawImage(img_positionsensor4, positionsensor4_x, positionsensor4_y, 91, 115);
                    }
                    img_positionsensor3.src = href + "images/pin_blue_3.png";
                    img_positionsensor3.onload = function () {
                        positionctx.drawImage(img_positionsensor3, positionsensor3_x, positionsensor3_y, 91, 115);
                    }
                    img_positionsensor2.src = href + "images/pin_green_2.png";
                    img_positionsensor2.onload = function () {
                        positionctx.drawImage(img_positionsensor2, positionsensor2_x, positionsensor2_y, 91, 115);
                    }
                    img_positionsensor1.src = href + "images/pin_red_1.png";
                    img_positionsensor1.onload = function () {
                        positionctx.drawImage(img_positionsensor1, positionsensor1_x, positionsensor1_y, 91, 115);
                    }

                    for (var i = 0; i < arasensorNum; i++) {
                        img_araSensors[i].src = href + "Arakawa/araSensor" + (i + 1).toString() + ".png";
                        img_araCircles[i].src = href + "Arakawa/RedCircle.png";
                    }

                    img_araSensor1.src = href + "Arakawa/araSensor1.png";
                    img_araSensor1.onload = function () {
                        for (var i = 0; i < arasensorNum; i++) {
                            positionctx.drawImage(img_araSensors[i], posArasensors[i * 2], posArasensors[i * 2 + 1], 80, 80);
                        }
                    }

                }

                positioncanvas.onmousedown = function (evt) {

                    posX = parseInt(evt.clientX - positioncanvas.offsetLeft + document.documentElement.scrollLeft);
                    posY = parseInt(evt.clientY - positioncanvas.offsetTop + document.documentElement.scrollTop);

                    console.log("posX: " + posX + " , posY: " + posY);

                    for (var i = 0; i < arasensorNum; i++) {
                        if(posX >= posArasensors[i*2] &&
                        posX <= (posArasensors[i*2] + 80) &&
                        posY >= posArasensors[i*2+1] &&
                        posY <= (posArasensors[i*2+1] + 80)
                        ) {
                            flag = (i + 1).toString() + "on";
                        }
                    }

                    //if (posX >= posArasensor1_x &&
                    //    posX <= (posArasensor1_x + 80) &&
                    //    posY >= posArasensor1_y &&
                    //    posY <= (posArasensor1_y + 80)
                    //) {
                    //    flag = '1on';
                    //} else if (posX >= posArasensor2_x &&
                    //    posX <= (posArasensor2_x + 80) &&
                    //    posY >= posArasensor2_y &&
                    //    posY <= (posArasensor2_y + 80)
                    //) {
                    //    flag = '2on';
                    //} else if (posX >= posArasensor3_x &&
                    //    posX <= (posArasensor3_x + 80) &&
                    //    posY >= posArasensor3_y &&
                    //    posY <= (posArasensor3_y + 80)
                    //) {
                    //    flag = '3on';
                    //}

                    console.log(flag);
                }
            });
            $("#position-past").click(function () {
                positionsensor1_x = 1243.0;
                positionsensor1_y = 805.0;
                positionsensor2_x = 397.0;
                positionsensor2_y = 805.0;
                positionsensor3_x = 1243.0;
                positionsensor3_y = 0.0;
                positionsensor4_x = 0.0;
                positionsensor4_y = 0.0;
                Flag_PositionPastMode = true;
                $("#environmentShow").hide();
                $("#doorShow").hide();
                $("#powerShow").hide();
                $("#Lb_select_mode").hide();
                var href = location.href;
                href = href.substring(0, href.indexOf("SensorData/")) + "SensorData/";
                $("#Im_icon_position").attr({
                    src: href + "images/位置ボタン1.png",
                    width: 260,
                    height: 70
                });
                $("#positionShow").show();
                $("#positionShow_real").hide();
                $("#positionShow_past").show();

                positioncanvas = document.getElementById('position-Canvas');
                positionctx = positioncanvas.getContext('2d');


                img_house.src = href + "images/house.png";
                img_house.onload = function () {
                    positionctx.clearRect(0, 0, positioncanvas.width, positioncanvas.height);
                    positionctx.drawImage(img_house, 0, 100, 1310, 834);
                    sensorImgAdd();
                }

                function sensorImgAdd() {

                    img_positionsensor4.src = href + "images/pin_black_4.png";
                    img_positionsensor4.onload = function () {
                        positionctx.drawImage(img_positionsensor4, positionsensor4_x, positionsensor4_y, 91, 115);
                    }
                    img_positionsensor3.src = href + "images/pin_blue_3.png";
                    img_positionsensor3.onload = function () {
                        positionctx.drawImage(img_positionsensor3, positionsensor3_x, positionsensor3_y, 91, 115);
                    }
                    img_positionsensor2.src = href + "images/pin_green_2.png";
                    img_positionsensor2.onload = function () {
                        positionctx.drawImage(img_positionsensor2, positionsensor2_x, positionsensor2_y, 91, 115);
                    }
                    img_positionsensor1.src = href + "images/pin_red_1.png";
                    img_positionsensor1.onload = function () {
                        positionctx.drawImage(img_positionsensor1, positionsensor1_x, positionsensor1_y, 91, 115);
                    }

                    for (var i = 0; i < arasensorNum; i++) {
                        img_araSensors[i].src = href + "Arakawa/araSensor" + (i + 1).toString() + ".png";
                        img_araCircles[i].src = href + "Arakawa/RedCircle.png";
                    }

                    img_araSensor1.src = href + "Arakawa/araSensor1.png";
                    img_araSensor1.onload = function () {
                        for (var i = 0; i < arasensorNum; i++) {
                            positionctx.drawImage(img_araSensors[i], posArasensors[i * 2], posArasensors[i * 2 + 1], 80, 80);
                        }
                    }

                }

                positioncanvas.onmousedown = function (evt) {

                    posX = parseInt(evt.clientX - positioncanvas.offsetLeft + document.documentElement.scrollLeft);
                    posY = parseInt(evt.clientY - positioncanvas.offsetTop + document.documentElement.scrollTop);

                    console.log("posX: " + posX + " , posY: " + posY);

                    for (var i = 0; i < arasensorNum; i++) {
                        if (posX >= posArasensors[i * 2] &&
                        posX <= (posArasensors[i * 2] + 80) &&
                        posY >= posArasensors[i * 2 + 1] &&
                        posY <= (posArasensors[i * 2 + 1] + 80)
                        ) {
                            flag = (i + 1).toString() + "on";
                        }
                    }

                    console.log(flag);
                }
            });

            // スタートボタンクリック処理
            $("#BT_GetStart_Power").click(function () {
                if (GetStart_Flag_Power) {
                    $("#BT_GetStart_Power .ui-btn-text").text("センサデータ取得　開始");
                    GetStart_Flag_Power = false;
                } else {
                    $("#BT_GetStart_Power .ui-btn-text").text("センサデータ取得　停止");
                    GetStart_Flag_Power = true;
                }     
            });
            $("#BT_GetStart_Environment").click(function () {
                if (GetStart_Flag_Environment) {
                    $("#BT_GetStart_Environment .ui-btn-text").text("センサデータ取得　開始");
                    GetStart_Flag_Environment = false;
                } else {
                    $("#BT_GetStart_Environment .ui-btn-text").text("センサデータ取得　停止");
                    GetStart_Flag_Environment = true;
                }
            });
            $("#BT_GetStart_Door").click(function () {
                if (GetStart_Flag_Door) {
                    $("#BT_GetStart_Door .ui-btn-text").text("センサデータ取得　開始");
                    GetStart_Flag_Door = false;
                } else {
                    $("#BT_GetStart_Door .ui-btn-text").text("センサデータ取得　停止");
                    GetStart_Flag_Door = true;
                }
            });
            $("#BT_GetStart_Position").click(function () {
                if (GetStart_Flag_Position) {
                    $("#BT_GetStart_Position .ui-btn-text").text("位置センサデータ取得　開始");
                    GetStart_Flag_Position = false;
                } else {
                    $("#BT_GetStart_Position .ui-btn-text").text("位置センサデータ取得　停止");
                    GetStart_Flag_Position = true;
                }
            });

            // 人感センサ系ボタンクリック処理
            $("#BT_GetStart_AraSensor").click(function () {
                if (GetStart_Flag_AraSensor) {
                    $("#BT_GetStart_AraSensor .ui-btn-text").text("人感センサデータ取得　開始");
                    GetStart_Flag_AraSensor = false;
                } else {
                    $("#BT_GetStart_AraSensor .ui-btn-text").text("人感センサデータ取得　停止");
                    GetStart_Flag_AraSensor = true;
                }
            });
            $("#BT_Save_AraSensorPosition").click(function () {
                var datalist = new Array(arasensorNum * 2);
                for (var i = 0; i < arasensorNum * 2; i++) {
                    datalist[i] = posArasensors[i].toString();
                }
                var sendData = [{ dt: null, pw: null, dat: datalist }];

                $.ajax({
                    type: 'post',
                    url: 'http://8k3kx36e19v68g.home-ip.aterm.jp/Cats/api/dataadd/arakawa/SensorPosition',
                    data: JSON.stringify(sendData),
                    contentType: 'application/JSON',
                    dataType: "json",
                    scriptCharset: 'utf-8',
                    success: function (response) {

                        alert("送信成功 : =" + JSON.stringify(response));

                    },

                    error: function (errorMsg) {
                        alert("失敗！\n" + errorMsg[0]);
                    }

                });
            });

            // 人感センサ＆位置センサの期間指定系ボタンクリック処理
            $("#BT_DataGet").click(function () {
                var before_since = $('#Date_since').val();
                var before_until = $('#Date_until').val();
                var after_since = before_since.replace(/ /g, "|").replace(/\u002f/g, "$1").replace(/:/g, "$4");
                var after_until = before_until.replace(/ /g, "|").replace(/\u002f/g, "$1").replace(/\u002f/g, "$1").replace(/:/g, "$4");
                var position_url1_past = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/positiondata/sql/where|%28%28tag_id=1%29|and|%28time_stamp$2='"+after_since+"'%29|and|%28time_stamp$3='"+after_until+"'%29%29|order|by|time_stamp|asc;";
                $.ajax({
                    type: 'get',
                    url: position_url1_past,
                    contentType: 'application/JSON',
                    dataType: 'json',
                    success: function (data) {

                        position_pastData1 = data;
                        console.log("PositionData1: " + JSON.stringify(data));

                        var position_url2_past = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/positiondata/sql/where|%28%28tag_id=2%29|and|%28time_stamp$2='" + after_since + "'%29|and|%28time_stamp$3='" + after_until + "'%29%29|order|by|time_stamp|asc;";
                        $.ajax({
                            type: 'get',
                            url: position_url2_past,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {

                                position_pastData2 = data;
                                console.log("PositionData2: " + JSON.stringify(data));

                                var position_url3_past = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/positiondata/sql/where|%28%28tag_id=3%29|and|%28time_stamp$2='" + after_since + "'%29|and|%28time_stamp$3='" + after_until + "'%29%29|order|by|time_stamp|asc;";
                                $.ajax({
                                    type: 'get',
                                    url: position_url3_past,
                                    contentType: 'application/JSON',
                                    dataType: 'json',
                                    success: function (data) {

                                        position_pastData3 = data;
                                        console.log("PositionData3: " + JSON.stringify(data));

                                        var position_url4_past = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/positiondata/sql/where|%28%28tag_id=4%29|and|%28time_stamp$2='" + after_since + "'%29|and|%28time_stamp$3='" + after_until + "'%29%29|order|by|time_stamp|asc;";
                                        $.ajax({
                                            type: 'get',
                                            url: position_url4_past,
                                            contentType: 'application/JSON',
                                            dataType: 'json',
                                            success: function (data) {

                                                position_pastData4 = data;
                                                console.log("PositionData4: " + JSON.stringify(data));

                                                after_since = before_since.replace(/ /g, "-").replace(/\u002f/g, "").replace(/:/g, "") + "-0000";
                                                after_until = before_until.replace(/ /g, "-").replace(/\u002f/g, "").replace(/:/g, "") + "-0000";

                                                var queryData = { pw: null, since: after_since, until: after_until, num: 0, orderby: "asc", unitlist: null, noDate: false };

                                                $.ajax({
                                                    type: 'post',
                                                    url: 'http://8k3kx36e19v68g.home-ip.aterm.jp/Cats/api/data/arakawa/HumanSensor',
                                                    data: JSON.stringify(queryData),
                                                    contentType: 'application/JSON',
                                                    dataType: 'json',
                                                    scriptCharset: 'utf-8',

                                                    success: function (response) {
                                                        console.log("Response : =" + JSON.stringify(response));
                                                        human_pastData = response.data;

                                                        if (Object.keys(response.data).length == 0) {
                                                            alert("注意: 人感センサの人感知データがありません。");
                                                        } else {
                                                            nowDate = human_pastData[0][0].substring(0, 4) + "/" + human_pastData[0][0].substring(4, 6) + "/" + human_pastData[0][0].substring(6, 8) + " " + human_pastData[0][0].substring(9, 11) + ":" + human_pastData[0][0].substring(11, 13) + ":" + human_pastData[0][0].substring(13, 15);
                                                            $("#P_NowDate").text(nowDate);
                                                            $('#P_MinMax').text("1/" + Object.keys(human_pastData).length);
                                                            $('#Date_Slider').attr("max", Object.keys(human_pastData).length);
                                                            $('#Date_Slider').val(1).slider('refresh');
                                                            nowpoint = 0;

                                                            var max = Object.keys(response.data[0]).length - 1;
                                                            console.log("max: " + max);

                                                            for (var i = 0; i < arasensorNum; i++) {
                                                                if (i >= max) {
                                                                    break;
                                                                }
                                                                if (human_pastData[0][i+1] == "1") {
                                                                    flag_araSensors[i] = true;
                                                                } else {
                                                                    flag_araSensors[i] = false;
                                                                }
                                                            }

                                                            console.log(flag_araSensors);

                                                        }

                                                        if (Object.keys(human_pastData).length != 0) {
                                                            if (human_pastData[0][1] == "1") {
                                                                flag_araSensor1 = true;
                                                            } else {
                                                                flag_araSensor1 = false;
                                                            }

                                                            if (human_pastData[0][2] == "1") {
                                                                flag_araSensor2 = true;
                                                            } else {
                                                                flag_araSensor2 = false;
                                                            }

                                                            if (human_pastData[0][3] == "1") {
                                                                flag_araSensor3 = true;
                                                            } else {
                                                                flag_araSensor3 = false;
                                                            }
                                                        }

                                                        if (Object.keys(position_pastData1).length != 0) {
                                                            positionsensor1_x = 1243.0 - position_pastData1[0].pos_x * 0.1319813;
                                                            positionsensor1_y = 805.0 - position_pastData1[0].pos_y * 0.1319813;
                                                        }

                                                        if (Object.keys(position_pastData2).length != 0) {
                                                            positionsensor2_x = 1243.0 - position_pastData2[0].pos_x * 0.1319813;
                                                            positionsensor2_y = 805.0 - position_pastData2[0].pos_y * 0.1319813;
                                                        }

                                                        if (Object.keys(position_pastData3).length != 0) {
                                                            positionsensor3_x = 1243.0 - position_pastData3[0].pos_x * 0.1319813;
                                                            positionsensor3_y = 805.0 - position_pastData3[0].pos_y * 0.1319813;
                                                        }

                                                        if (Object.keys(position_pastData4).length != 0) {
                                                            positionsensor4_x = 1243.0 - position_pastData4[0].pos_x * 0.1319813;
                                                            positionsensor4_y = 805.0 - position_pastData4[0].pos_y * 0.1319813;
                                                        }

                                                        showAraPosSensor();

                                                    },

                                                    error: function (errorMsg) {
                                                    }

                                                });

                                            },
                                            error: function (data, err) {
                                            }
                                        });

                                    },
                                    error: function (data, err) {
                                    }
                                });

                            },
                            error: function (data, err) {
                            }
                        });

                    },
                    error: function (data, err) {
                    }
                });

                
            });
            $('#BT_DateBefore').click(function () {
                if (!Flag_Play) {
                    if (human_pastData != null) {
                        if (nowpoint > 0) {
                            nowpoint--;

                            nowDate = human_pastData[nowpoint][0].substring(0, 4) + "/" + human_pastData[nowpoint][0].substring(4, 6) + "/" + human_pastData[nowpoint][0].substring(6, 8) + " " + human_pastData[nowpoint][0].substring(9, 11) + ":" + human_pastData[nowpoint][0].substring(11, 13) + ":" + human_pastData[nowpoint][0].substring(13, 15);
                            $("#P_NowDate").text(nowDate);
                            $('#Date_Slider').val(nowpoint + 1).slider('refresh');
                            $('#P_MinMax').text(String(nowpoint + 1) + "/" + Object.keys(human_pastData).length);

                            var max = Object.keys(human_pastData[nowpoint]).length - 1;
                            console.log("max: " + max);

                            for (var i = 0; i < arasensorNum; i++) {
                                if (i >= max) {
                                    break;
                                }
                                if (human_pastData[nowpoint][i + 1] == "1") {
                                    flag_araSensors[i] = true;
                                } else {
                                    flag_araSensors[i] = false;
                                }
                            }

                            if (human_pastData[nowpoint][1] == "1") {
                                flag_araSensor1 = true;
                            } else {
                                flag_araSensor1 = false;
                            }

                            if (human_pastData[nowpoint][2] == "1") {
                                flag_araSensor2 = true;
                            } else {
                                flag_araSensor2 = false;
                            }

                            if (human_pastData[nowpoint][3] == "1") {
                                flag_araSensor3 = true;
                            } else {
                                flag_araSensor3 = false;
                            }

                            if (Object.keys(position_pastData1).length != 0) {
                                for (var index in position_pastData1) {
                                    if (position_pastData1[index].time_stamp == nowDate) {
                                        positionsensor1_x = 1243.0 - position_pastData1[index].pos_x * 0.1319813;
                                        positionsensor1_y = 805.0 - position_pastData1[index].pos_y * 0.1319813;
                                        break;
                                    }
                                }
                            }
                            if (Object.keys(position_pastData2).length != 0) {
                                for (var index in position_pastData2) {
                                    if (position_pastData2[index].time_stamp == nowDate) {
                                        positionsensor2_x = 1243.0 - position_pastData2[index].pos_x * 0.1319813;
                                        positionsensor2_y = 805.0 - position_pastData2[index].pos_y * 0.1319813;
                                        break;
                                    }
                                }
                            }
                            if (Object.keys(position_pastData3).length != 0) {
                                for (var index in position_pastData3) {
                                    if (position_pastData3[index].time_stamp == nowDate) {
                                        positionsensor3_x = 1243.0 - position_pastData3[index].pos_x * 0.1319813;
                                        positionsensor3_y = 805.0 - position_pastData3[index].pos_y * 0.1319813;
                                        break;
                                    }
                                }
                            }
                            if (Object.keys(position_pastData4).length != 0) {
                                for (var index in position_pastData4) {
                                    if (position_pastData4[index].time_stamp == nowDate) {
                                        positionsensor4_x = 1243.0 - position_pastData4[index].pos_x * 0.1319813;
                                        positionsensor4_y = 805.0 - position_pastData4[index].pos_y * 0.1319813;
                                        break;
                                    }
                                }
                            }

                            showAraPosSensor();

                        }
                    }
                }
            });
            $('#BT_DateAfter').click(function () {
                if (!Flag_Play) {
                    if (human_pastData != null) {
                        if (nowpoint < Object.keys(human_pastData).length - 1) {
                            nowpoint++;

                            nowDate = human_pastData[nowpoint][0].substring(0, 4) + "/" + human_pastData[nowpoint][0].substring(4, 6) + "/" + human_pastData[nowpoint][0].substring(6, 8) + " " + human_pastData[nowpoint][0].substring(9, 11) + ":" + human_pastData[nowpoint][0].substring(11, 13) + ":" + human_pastData[nowpoint][0].substring(13, 15);
                            $("#P_NowDate").text(nowDate);
                            $('#Date_Slider').val(nowpoint + 1).slider('refresh');
                            $('#P_MinMax').text(String(nowpoint + 1) + "/" + Object.keys(human_pastData).length);

                            var max = Object.keys(human_pastData[nowpoint]).length - 1;
                            console.log("max: " + max);

                            for (var i = 0; i < arasensorNum; i++) {
                                if (i >= max) {
                                    break;
                                }
                                if (human_pastData[nowpoint][i + 1] == "1") {
                                    flag_araSensors[i] = true;
                                } else {
                                    flag_araSensors[i] = false;
                                }
                            }

                            if (human_pastData[nowpoint][1] == "1") {
                                flag_araSensor1 = true;
                            } else {
                                flag_araSensor1 = false;
                            }

                            if (human_pastData[nowpoint][2] == "1") {
                                flag_araSensor2 = true;
                            } else {
                                flag_araSensor2 = false;
                            }

                            if (human_pastData[nowpoint][3] == "1") {
                                flag_araSensor3 = true;
                            } else {
                                flag_araSensor3 = false;
                            }

                            if (Object.keys(position_pastData1).length != 0) {
                                for (var index in position_pastData1) {
                                    if (position_pastData1[index].time_stamp == nowDate) {
                                        positionsensor1_x = 1243.0 - position_pastData1[index].pos_x * 0.1319813;
                                        positionsensor1_y = 805.0 - position_pastData1[index].pos_y * 0.1319813;
                                        break;
                                    }
                                }
                            }
                            if (Object.keys(position_pastData2).length != 0) {
                                for (var index in position_pastData2) {
                                    if (position_pastData2[index].time_stamp == nowDate) {
                                        positionsensor2_x = 1243.0 - position_pastData2[index].pos_x * 0.1319813;
                                        positionsensor2_y = 805.0 - position_pastData2[index].pos_y * 0.1319813;
                                        break;
                                    }
                                }
                            }
                            if (Object.keys(position_pastData3).length != 0) {
                                for (var index in position_pastData3) {
                                    if (position_pastData3[index].time_stamp == nowDate) {
                                        positionsensor3_x = 1243.0 - position_pastData3[index].pos_x * 0.1319813;
                                        positionsensor3_y = 805.0 - position_pastData3[index].pos_y * 0.1319813;
                                        break;
                                    }
                                }
                            }
                            if (Object.keys(position_pastData4).length != 0) {
                                for (var index in position_pastData4) {
                                    if (position_pastData4[index].time_stamp == nowDate) {
                                        positionsensor4_x = 1243.0 - position_pastData4[index].pos_x * 0.1319813;
                                        positionsensor4_y = 805.0 - position_pastData4[index].pos_y * 0.1319813;
                                        break;
                                    }
                                }
                            }

                            showAraPosSensor();

                        }
                    }
                }
            });
            $('#Im_Play').click(function () {
                if (Flag_Play) {
                    $('#Im_Play').attr("src", "Arakawa/再生.png");
                    Flag_Play = false;
                } else {
                    $('#Im_Play').attr("src", "Arakawa/一時停止.png");
                    Flag_Play = true;
                }

            });
            $('#Date_Slider').on('slidestop', function (event) {

                nowpoint = Number($('#Date_Slider').val() - 1);

                nowDate = human_pastData[nowpoint][0].substring(0, 4) + "/" + human_pastData[nowpoint][0].substring(4, 6) + "/" + human_pastData[nowpoint][0].substring(6, 8) + " " + human_pastData[nowpoint][0].substring(9, 11) + ":" + human_pastData[nowpoint][0].substring(11, 13) + ":" + human_pastData[nowpoint][0].substring(13, 15);
                $("#P_NowDate").text(nowDate);
                $('#Date_Slider').val(nowpoint + 1).slider('refresh');
                $('#P_MinMax').text(String(nowpoint + 1) + "/" + Object.keys(human_pastData).length);

                var max = Object.keys(human_pastData[nowpoint]).length - 1;
                console.log("max: " + max);

                for (var i = 0; i < arasensorNum; i++) {
                    if (i >= max) {
                        break;
                    }
                    if (human_pastData[nowpoint][i + 1] == "1") {
                        flag_araSensors[i] = true;
                    } else {
                        flag_araSensors[i] = false;
                    }
                }

                if (human_pastData[nowpoint][1] == "1") {
                    flag_araSensor1 = true;
                } else {
                    flag_araSensor1 = false;
                }

                if (human_pastData[nowpoint][2] == "1") {
                    flag_araSensor2 = true;
                } else {
                    flag_araSensor2 = false;
                }

                if (human_pastData[nowpoint][3] == "1") {
                    flag_araSensor3 = true;
                } else {
                    flag_araSensor3 = false;
                }

                if (Object.keys(position_pastData1).length != 0) {
                    for (var index in position_pastData1) {
                        if (position_pastData1[index].time_stamp == nowDate) {
                            positionsensor1_x = 1243.0 - position_pastData1[index].pos_x * 0.1319813;
                            positionsensor1_y = 805.0 - position_pastData1[index].pos_y * 0.1319813;
                            break;
                        }
                    }
                }
                if (Object.keys(position_pastData2).length != 0) {
                    for (var index in position_pastData2) {
                        if (position_pastData2[index].time_stamp == nowDate) {
                            positionsensor2_x = 1243.0 - position_pastData2[index].pos_x * 0.1319813;
                            positionsensor2_y = 805.0 - position_pastData2[index].pos_y * 0.1319813;
                            break;
                        }
                    }
                }
                if (Object.keys(position_pastData3).length != 0) {
                    for (var index in position_pastData3) {
                        if (position_pastData3[index].time_stamp == nowDate) {
                            positionsensor3_x = 1243.0 - position_pastData3[index].pos_x * 0.1319813;
                            positionsensor3_y = 805.0 - position_pastData3[index].pos_y * 0.1319813;
                            break;
                        }
                    }
                }
                if (Object.keys(position_pastData4).length != 0) {
                    for (var index in position_pastData4) {
                        if (position_pastData4[index].time_stamp == nowDate) {
                            positionsensor4_x = 1243.0 - position_pastData4[index].pos_x * 0.1319813;
                            positionsensor4_y = 805.0 - position_pastData4[index].pos_y * 0.1319813;
                            break;
                        }
                    }
                }

                showAraPosSensor();
            });

            //電力センサ
            setInterval(function () {
                if (GetStart_Flag_Power) {

                    var date = new Date();
                    var beforedate = computeDate(date.getFullYear(), date.getMonth() + 1, date.getDate(), -1);

                    var power_select1 = $("#power-select-1").val();
                    if (power_select1 != "0") {
                        var power_url1 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=14)|and|(sensor=" + power_select1 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(power_url1);
                        $.ajax({
                            type: 'get',
                            url: power_url1,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                power_myLineChart1.removeData();
                                power_myLineChart1.addData([data[0].value], data[0].datetime.split(' ')[1]);
                                power_myLineChart1.update();
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var power_select2 = $("#power-select-2").val();
                    if (power_select2 != "0") {
                        var power_url2 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=14)|and|(sensor=" + power_select2 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(power_url2);
                        $.ajax({
                            type: 'get',
                            url: power_url2,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                power_myLineChart2.removeData();
                                power_myLineChart2.addData([data[0].value], data[0].datetime.split(' ')[1]);
                                power_myLineChart2.update();
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var power_select3 = $("#power-select-3").val();
                    if (power_select3 != "0") {
                        var power_url3 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=14)|and|(sensor=" + power_select3 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(power_url3);
                        $.ajax({
                            type: 'get',
                            url: power_url3,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                power_myLineChart3.removeData();
                                power_myLineChart3.addData([data[0].value], data[0].datetime.split(' ')[1]);
                                power_myLineChart3.update();
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var power_select4 = $("#power-select-4").val();
                    if (power_select4 != "0") {
                        var power_url4 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=14)|and|(sensor=" + power_select4 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(power_url4);
                        $.ajax({
                            type: 'get',
                            url: power_url4,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                power_myLineChart4.removeData();
                                power_myLineChart4.addData([data[0].value], data[0].datetime.split(' ')[1]);
                                power_myLineChart4.update();
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var power_select5 = $("#power-select-5").val();
                    if (power_select5 != "0") {
                        var power_url5 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=14)|and|(sensor=" + power_select5 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(power_url5);
                        $.ajax({
                            type: 'get',
                            url: power_url5,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                power_myLineChart5.removeData();
                                power_myLineChart5.addData([data[0].value], data[0].datetime.split(' ')[1]);
                                power_myLineChart5.update();
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var power_select6 = $("#power-select-6").val();
                    if (power_select6 != "0") {
                        var power_url6 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=14)|and|(sensor=" + power_select6 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(power_url6);
                        $.ajax({
                            type: 'get',
                            url: power_url6,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                power_myLineChart6.removeData();
                                power_myLineChart6.addData([data[0].value], data[0].datetime.split(' ')[1]);
                                power_myLineChart6.update();
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var power_select7 = $("#power-select-7").val();
                    if (power_select7 != "0") {
                        var power_url7 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=14)|and|(sensor=" + power_select7 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(power_url7);
                        $.ajax({
                            type: 'get',
                            url: power_url7,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                power_myLineChart7.removeData();
                                power_myLineChart7.addData([data[0].value], data[0].datetime.split(' ')[1]);
                                power_myLineChart7.update();
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var power_select8 = $("#power-select-8").val();
                    if (power_select8 != "0") {
                        var power_url8 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=14)|and|(sensor=" + power_select8 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(power_url8);
                        $.ajax({
                            type: 'get',
                            url: power_url8,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                power_myLineChart8.removeData();
                                power_myLineChart8.addData([data[0].value], data[0].datetime.split(' ')[1]);
                                power_myLineChart8.update();
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var power_select9 = $("#power-select-9").val();
                    if (power_select9 != "0") {
                        var power_url9 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=14)|and|(sensor=" + power_select9 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(power_url9);
                        $.ajax({
                            type: 'get',
                            url: power_url9,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                power_myLineChart9.removeData();
                                power_myLineChart9.addData([data[0].value], data[0].datetime.split(' ')[1]);
                                power_myLineChart9.update();
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }
                        
                }
                

            }, 30000);

            //環境センサ
            setInterval(function () {
                
                if (GetStart_Flag_Environment) {

                    var date = new Date();
                    var beforedate = computeDate(date.getFullYear(), date.getMonth() + 1, date.getDate(), -1);

                    var environment_count1 = 0;
                    var environment_datas1 = [0, 0, 0, 0];
                    var environment_date1 = date;
                    var environment_human_date1 = date;
                    var environment_select1 = $("#environment-select-1").val();
                    if (environment_select1 != "0") {
                        var environment_url1 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=1)|and|(sensor=" + environment_select1 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url1);
                        $.ajax({
                            type: 'get',
                            url: environment_url1,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count1++;
                                environment_datas1[0] = data[0].value;
                                if (environment_count1 == 4) {
                                    environment_myLineChart1.removeData();
                                    if ((environment_human_date1.split(':')[0] != environment_date1.split(':')[0]) || (environment_human_date1.split(':')[1] != environment_date1.split(':')[1]-1)) {
                                        environment_datas1[3] = "0";
                                    }
                                    environment_myLineChart1.addData(environment_datas1, environment_date1);
                                    environment_myLineChart1.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                        var environment_url1 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=2)|and|(sensor=" + environment_select1 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url1);
                        $.ajax({
                            type: 'get',
                            url: environment_url1,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count1++;
                                environment_datas1[1] = data[0].value;
                                if (environment_count1 == 4) {
                                    environment_myLineChart1.removeData();
                                    if ((environment_human_date1.split(':')[0] != environment_date1.split(':')[0]) || (environment_human_date1.split(':')[1] != environment_date1.split(':')[1]-1)) {
                                        environment_datas1[3] = "0";
                                    }
                                    environment_myLineChart1.addData(environment_datas1, environment_date1);
                                    environment_myLineChart1.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                        var environment_url1 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=3)|and|(sensor=" + environment_select1 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url1);
                        $.ajax({
                            type: 'get',
                            url: environment_url1,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count1++;
                                environment_datas1[2] = data[0].value;
                                environment_date1 = data[0].datetime.split(' ')[1];
                                if (environment_count1 == 4) {
                                    environment_myLineChart1.removeData();
                                    if ((environment_human_date1.split(':')[0] != environment_date1.split(':')[0]) || (environment_human_date1.split(':')[1] != environment_date1.split(':')[1]-1)) {
                                        environment_datas1[3] = "0";
                                    }
                                    environment_myLineChart1.addData(environment_datas1, environment_date1);
                                    environment_myLineChart1.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                        var environment_url1 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=4)|and|(sensor=" + environment_select1 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url1);
                        $.ajax({
                            type: 'get',
                            url: environment_url1,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count1++;
                                if (Object.keys(data).length == 0) {
                                    environment_datas1[3] = "0";
                                    environment_human_date1 = "";
                                } else {
                                    environment_datas1[3] = data[0].value - 245;
                                    environment_human_date1 = data[0].datetime.split(' ')[1];
                                }
                                if (environment_count1 == 4) {
                                    environment_myLineChart1.removeData();
                                    if ((environment_human_date1.split(':')[0] != environment_date1.split(':')[0]) || (environment_human_date1.split(':')[1] != environment_date1.split(':')[1]-1)) {
                                        environment_datas1[3] = "0";
                                    }
                                    environment_myLineChart1.addData(environment_datas1, environment_date1);
                                    environment_myLineChart1.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var environment_count2 = 0;
                    var environment_datas2 = [0, 0, 0, 0];
                    var environment_date2 = date;
                    var environment_human_date2 = date;
                    var environment_select2 = $("#environment-select-2").val();
                    if (environment_select2 != "0") {
                        var environment_url2 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=1)|and|(sensor=" + environment_select2 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url2);
                        $.ajax({
                            type: 'get',
                            url: environment_url2,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count2++;
                                environment_datas2[0] = data[0].value;
                                if (environment_count2 == 4) {
                                    environment_myLineChart2.removeData();
                                    if ((environment_human_date2.split(':')[0] != environment_date2.split(':')[0]) || (environment_human_date2.split(':')[1] != environment_date2.split(':')[1]-1)) {
                                        environment_datas2[3] = "0";
                                    }
                                    environment_myLineChart2.addData(environment_datas2, environment_date2);
                                    environment_myLineChart2.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                        var environment_url2 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=2)|and|(sensor=" + environment_select2 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url2);
                        $.ajax({
                            type: 'get',
                            url: environment_url2,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count2++;
                                environment_datas2[1] = data[0].value;
                                if (environment_count2 == 4) {
                                    environment_myLineChart2.removeData();
                                    if ((environment_human_date2.split(':')[0] != environment_date2.split(':')[0]) || (environment_human_date2.split(':')[1] != environment_date2.split(':')[1]-1)) {
                                        environment_datas2[3] = "0";
                                    }
                                    environment_myLineChart2.addData(environment_datas2, environment_date2);
                                    environment_myLineChart2.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                        var environment_url2 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=3)|and|(sensor=" + environment_select2 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url2);
                        $.ajax({
                            type: 'get',
                            url: environment_url2,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count2++;
                                environment_datas2[2] = data[0].value;
                                environment_date2 = data[0].datetime.split(' ')[1];
                                if (environment_count2 == 4) {
                                    environment_myLineChart2.removeData();
                                    if ((environment_human_date2.split(':')[0] != environment_date2.split(':')[0]) || (environment_human_date2.split(':')[1] != environment_date2.split(':')[1]-1)) {
                                        environment_datas2[3] = "0";
                                    }
                                    environment_myLineChart2.addData(environment_datas2, environment_date2);
                                    environment_myLineChart2.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                        var environment_url2 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=4)|and|(sensor=" + environment_select2 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url2);
                        $.ajax({
                            type: 'get',
                            url: environment_url2,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count2++;
                                if (Object.keys(data).length == 0) {
                                    environment_datas2[3] = "0";
                                    environment_human_date2 = "";
                                } else {
                                    environment_datas2[3] = data[0].value - 245;
                                    environment_human_date2 = data[0].datetime.split(' ')[1];
                                }
                                if (environment_count2 == 4) {
                                    environment_myLineChart2.removeData();
                                    if ((environment_human_date2.split(':')[0] != environment_date2.split(':')[0]) || (environment_human_date2.split(':')[1] != environment_date2.split(':')[1]-1)) {
                                        environment_datas2[3] = "0";
                                    }
                                    environment_myLineChart2.addData(environment_datas2, environment_date2);
                                    environment_myLineChart2.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var environment_count3 = 0;
                    var environment_datas3 = [0, 0, 0, 0];
                    var environment_date3 = date;
                    var environment_human_date3 = date;
                    var environment_select3 = $("#environment-select-3").val();
                    if (environment_select3 != "0") {
                        var environment_url3 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=1)|and|(sensor=" + environment_select3 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url3);
                        $.ajax({
                            type: 'get',
                            url: environment_url3,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count3++;
                                environment_datas3[0] = data[0].value;
                                if (environment_count3 == 4) {
                                    environment_myLineChart3.removeData();
                                    if ((environment_human_date3.split(':')[0] != environment_date3.split(':')[0]) || (environment_human_date3.split(':')[1] != environment_date3.split(':')[1]-1)) {
                                        environment_datas3[3] = "0";
                                    }
                                    environment_myLineChart3.addData(environment_datas3, environment_date3);
                                    environment_myLineChart3.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                        var environment_url3 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=2)|and|(sensor=" + environment_select3 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url3);
                        $.ajax({
                            type: 'get',
                            url: environment_url3,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count3++;
                                environment_datas3[1] = data[0].value;
                                if (environment_count3 == 4) {
                                    environment_myLineChart3.removeData();
                                    if ((environment_human_date3.split(':')[0] != environment_date3.split(':')[0]) || (environment_human_date3.split(':')[1] != environment_date3.split(':')[1]-1)) {
                                        environment_datas3[3] = "0";
                                    }
                                    environment_myLineChart3.addData(environment_datas3, environment_date3);
                                    environment_myLineChart3.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                        var environment_url3 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=3)|and|(sensor=" + environment_select3 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url3);
                        $.ajax({
                            type: 'get',
                            url: environment_url3,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count3++;
                                environment_datas3[2] = data[0].value;
                                environment_date3 = data[0].datetime.split(' ')[1];
                                if (environment_count3 == 4) {
                                    environment_myLineChart3.removeData();
                                    if ((environment_human_date3.split(':')[0] != environment_date3.split(':')[0]) || (environment_human_date3.split(':')[1] != environment_date3.split(':')[1]-1)) {
                                        environment_datas3[3] = "0";
                                    }
                                    environment_myLineChart3.addData(environment_datas3, environment_date3);
                                    environment_myLineChart3.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                        var environment_url3 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=4)|and|(sensor=" + environment_select3 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url3);
                        $.ajax({
                            type: 'get',
                            url: environment_url3,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count3++;
                                if (Object.keys(data).length == 0) {
                                    environment_datas3[3] = "0";
                                    environment_human_date3 = "";
                                } else {
                                    environment_datas3[3] = data[0].value - 245;
                                    environment_human_date3 = data[0].datetime.split(' ')[1];
                                }
                                console.log(environment_human_date3);
                                if (environment_count3 == 4) {
                                    environment_myLineChart3.removeData();
                                    if ((environment_human_date3.split(':')[0] != environment_date3.split(':')[0]) || (environment_human_date3.split(':')[1] != environment_date3.split(':')[1]-1)) {
                                        environment_datas3[3] = "0";
                                    }
                                    environment_myLineChart3.addData(environment_datas3, environment_date3);
                                    environment_myLineChart3.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var environment_count4 = 0;
                    var environment_datas4 = [0, 0, 0, 0];
                    var environment_date4 = date;
                    var environment_human_date4 = date;
                    var environment_select4 = $("#environment-select-4").val();
                    if (environment_select4 != "0") {
                        var environment_url4 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=1)|and|(sensor=" + environment_select4 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url4);
                        $.ajax({
                            type: 'get',
                            url: environment_url4,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count4++;
                                environment_datas4[0] = data[0].value;
                                if (environment_count4 == 4) {
                                    environment_myLineChart4.removeData();
                                    if ((environment_human_date4.split(':')[0] != environment_date4.split(':')[0]) || (environment_human_date4.split(':')[1] != environment_date4.split(':')[1]-1)) {
                                        environment_datas4[3] = "0";
                                    }
                                    environment_myLineChart4.addData(environment_datas4, environment_date4);
                                    environment_myLineChart4.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                        var environment_url4 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=2)|and|(sensor=" + environment_select4 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url4);
                        $.ajax({
                            type: 'get',
                            url: environment_url4,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count4++;
                                environment_datas4[1] = data[0].value;
                                if (environment_count4 == 4) {
                                    environment_myLineChart4.removeData();
                                    if ((environment_human_date4.split(':')[0] != environment_date4.split(':')[0]) || (environment_human_date4.split(':')[1] != environment_date4.split(':')[1]-1)) {
                                        environment_datas4[3] = "0";
                                    }
                                    environment_myLineChart4.addData(environment_datas4, environment_date4);
                                    environment_myLineChart4.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                        var environment_url4 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=3)|and|(sensor=" + environment_select4 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url4);
                        $.ajax({
                            type: 'get',
                            url: environment_url4,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count4++;
                                environment_datas4[2] = data[0].value;
                                environment_date4 = data[0].datetime.split(' ')[1];
                                if (environment_count4 == 4) {
                                    environment_myLineChart4.removeData();
                                    if ((environment_human_date4.split(':')[0] != environment_date4.split(':')[0]) || (environment_human_date4.split(':')[1] != environment_date4.split(':')[1]-1)) {
                                        environment_datas4[3] = "0";
                                    }
                                    environment_myLineChart4.addData(environment_datas4, environment_date4);
                                    environment_myLineChart4.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                        var environment_url4 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=4)|and|(sensor=" + environment_select4 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url4);
                        $.ajax({
                            type: 'get',
                            url: environment_url4,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count4++;
                                if (Object.keys(data).length == 0) {
                                    environment_datas4[3] = "0";
                                    environment_human_date4 = "";
                                } else {
                                    environment_datas4[3] = data[0].value - 245;
                                    environment_human_date4 = data[0].datetime.split(' ')[1];
                                }
                                if (environment_count4 == 4) {
                                    environment_myLineChart4.removeData();
                                    if ((environment_human_date4.split(':')[0] != environment_date4.split(':')[0]) || (environment_human_date4.split(':')[1] != environment_date4.split(':')[1]-1)) {
                                        environment_datas4[3] = "0";
                                    }
                                    environment_myLineChart4.addData(environment_datas4, environment_date4);
                                    environment_myLineChart4.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var environment_count5 = 0;
                    var environment_datas5 = [0, 0, 0, 0];
                    var environment_date5 = date;
                    var environment_human_date5 = date;
                    var environment_select5 = $("#environment-select-5").val();
                    if (environment_select5 != "0") {
                        var environment_url5 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=1)|and|(sensor=" + environment_select5 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url5);
                        $.ajax({
                            type: 'get',
                            url: environment_url5,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count5++;
                                environment_datas5[0] = data[0].value;
                                if (environment_count5 == 4) {
                                    environment_myLineChart5.removeData();
                                    if ((environment_human_date5.split(':')[0] != environment_date5.split(':')[0]) || (environment_human_date5.split(':')[1] != environment_date5.split(':')[1]-1)) {
                                        environment_datas5[3] = "0";
                                    }
                                    environment_myLineChart5.addData(environment_datas5, environment_date5);
                                    environment_myLineChart5.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                        var environment_url5 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=2)|and|(sensor=" + environment_select5 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url5);
                        $.ajax({
                            type: 'get',
                            url: environment_url5,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count5++;
                                environment_datas5[1] = data[0].value;
                                if (environment_count5 == 4) {
                                    environment_myLineChart5.removeData();
                                    if ((environment_human_date5.split(':')[0] != environment_date5.split(':')[0]) || (environment_human_date5.split(':')[1] != environment_date5.split(':')[1]-1)) {
                                        environment_datas5[3] = "0";
                                    }
                                    environment_myLineChart5.addData(environment_datas5, environment_date5);
                                    environment_myLineChart5.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                        var environment_url5 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=3)|and|(sensor=" + environment_select5 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url5);
                        $.ajax({
                            type: 'get',
                            url: environment_url5,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count5++;
                                environment_datas5[2] = data[0].value;
                                environment_date5 = data[0].datetime.split(' ')[1];
                                if (environment_count5 == 4) {
                                    environment_myLineChart5.removeData();
                                    if ((environment_human_date5.split(':')[0] != environment_date5.split(':')[0]) || (environment_human_date5.split(':')[1] != environment_date5.split(':')[1]-1)) {
                                        environment_datas5[3] = "0";
                                    }
                                    environment_myLineChart5.addData(environment_datas5, environment_date5);
                                    environment_myLineChart5.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                        var environment_url5 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=4)|and|(sensor=" + environment_select5 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url5);
                        $.ajax({
                            type: 'get',
                            url: environment_url5,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count5++;
                                if (Object.keys(data).length == 0) {
                                    environment_datas5[3] = "0";
                                    environment_human_date5 = "";
                                } else {
                                    environment_datas5[3] = data[0].value - 245;
                                    environment_human_date5 = data[0].datetime.split(' ')[1];
                                }
                                if (environment_count5 == 4) {
                                    environment_myLineChart5.removeData();
                                    if ((environment_human_date5.split(':')[0] != environment_date5.split(':')[0]) || (environment_human_date5.split(':')[1] != environment_date5.split(':')[1]-1)) {
                                        environment_datas5[3] = "0";
                                    }
                                    environment_myLineChart5.addData(environment_datas5, environment_date5);
                                    environment_myLineChart5.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var environment_count6 = 0;
                    var environment_datas6 = [0, 0, 0, 0];
                    var environment_date6 = date;
                    var environment_human_date6 = date;
                    var environment_select6 = $("#environment-select-6").val();
                    if (environment_select6 != "0") {
                        var environment_url6 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=1)|and|(sensor=" + environment_select6 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url6);
                        $.ajax({
                            type: 'get',
                            url: environment_url6,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count6++;
                                environment_datas6[0] = data[0].value;
                                if (environment_count6 == 4) {
                                    environment_myLineChart6.removeData();
                                    if ((environment_human_date6.split(':')[0] != environment_date6.split(':')[0]) || (environment_human_date6.split(':')[1] != environment_date6.split(':')[1]-1)) {
                                        environment_datas6[3] = "0";
                                    }
                                    environment_myLineChart6.addData(environment_datas6, environment_date6);
                                    environment_myLineChart6.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                        var environment_url6 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=2)|and|(sensor=" + environment_select6 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url6);
                        $.ajax({
                            type: 'get',
                            url: environment_url6,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count6++;
                                environment_datas6[1] = data[0].value;
                                if (environment_count6 == 4) {
                                    environment_myLineChart6.removeData();
                                    if ((environment_human_date6.split(':')[0] != environment_date6.split(':')[0]) || (environment_human_date6.split(':')[1] != environment_date6.split(':')[1]-1)) {
                                        environment_datas6[3] = "0";
                                    }
                                    environment_myLineChart6.addData(environment_datas6, environment_date6);
                                    environment_myLineChart6.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                        var environment_url6 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=3)|and|(sensor=" + environment_select6 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url6);
                        $.ajax({
                            type: 'get',
                            url: environment_url6,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count6++;
                                environment_datas6[2] = data[0].value;
                                environment_date6 = data[0].datetime.split(' ')[1];
                                if (environment_count6 == 4) {
                                    environment_myLineChart6.removeData();
                                    if ((environment_human_date6.split(':')[0] != environment_date6.split(':')[0]) || (environment_human_date6.split(':')[1] != environment_date6.split(':')[1]-1)) {
                                        environment_datas6[3] = "0";
                                    }
                                    environment_myLineChart6.addData(environment_datas6, environment_date6);
                                    environment_myLineChart6.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                        var environment_url6 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=4)|and|(sensor=" + environment_select6 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(environment_url6);
                        $.ajax({
                            type: 'get',
                            url: environment_url6,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                environment_count6++;
                                if (Object.keys(data).length == 0) {
                                    environment_datas6[3] = "0";
                                    environment_human_date6 = "";
                                } else {
                                    environment_datas6[3] = data[0].value - 245;
                                    environment_human_date6 = data[0].datetime.split(' ')[1];
                                }
                                if (environment_count6 == 4) {
                                    environment_myLineChart6.removeData();
                                    if ((environment_human_date6.split(':')[0] != environment_date6.split(':')[0]) || (environment_human_date6.split(':')[1] != environment_date6.split(':')[1]-1)) {
                                        environment_datas6[3] = "0";
                                    }
                                    environment_myLineChart6.addData(environment_datas6, environment_date6);
                                    environment_myLineChart6.update();
                                }
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }
                }

            }, 60000);

            //開閉センサ
            var door_before_date1 = "";
            var door_before_date2 = "";
            var door_before_date3 = "";
            var door_before_date4 = "";
            var door_before_date5 = "";
            var door_before_date6 = "";
            var door_before_date7 = "";
            var door_before_date8 = "";
            var door_before_date9 = "";
            setInterval(function () {
                if (GetStart_Flag_Door) {

                    var date = new Date();
                    var beforedate = computeDate(date.getFullYear(), date.getMonth() + 1, date.getDate(), -10);

                    var door_select1 = $("#door-select-1").val();
                    if (door_select1 != "0") {
                        var door_url1 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=7)|and|(sensor=" + door_select1 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(door_url1);
                        $.ajax({
                            type: 'get',
                            url: door_url1,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                if (door_before_date1 != data[0].datetime.split(' ')[1]) {
                                    door_myLineChart1.removeData();
                                    door_myLineChart1.addData([data[0].value], data[0].datetime.split(' ')[1]);
                                    door_myLineChart1.update();
                                    door_before_date1 = data[0].datetime.split(' ')[1];
                                }
                                
                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var door_select2 = $("#door-select-2").val();
                    if (door_select2 != "0") {
                        var door_url2 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=7)|and|(sensor=" + door_select2 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(door_url2);
                        $.ajax({
                            type: 'get',
                            url: door_url2,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                if (door_before_date2 != data[0].datetime.split(' ')[1]) {
                                    door_myLineChart2.removeData();
                                    door_myLineChart2.addData([data[0].value], data[0].datetime.split(' ')[1]);
                                    door_myLineChart2.update();
                                    door_before_date2 = data[0].datetime.split(' ')[1];
                                }

                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var door_select3 = $("#door-select-3").val();
                    if (door_select3 != "0") {
                        var door_url3 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=7)|and|(sensor=" + door_select3 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(door_url3);
                        $.ajax({
                            type: 'get',
                            url: door_url3,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                if (door_before_date3 != data[0].datetime.split(' ')[1]) {
                                    door_myLineChart3.removeData();
                                    door_myLineChart3.addData([data[0].value], data[0].datetime.split(' ')[1]);
                                    door_myLineChart3.update();
                                    door_before_date3 = data[0].datetime.split(' ')[1];
                                }

                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var door_select4 = $("#door-select-4").val();
                    if (door_select4 != "0") {
                        var door_url4 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=7)|and|(sensor=" + door_select4 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(door_url4);
                        $.ajax({
                            type: 'get',
                            url: door_url4,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                if (door_before_date4 != data[0].datetime.split(' ')[1]) {
                                    door_myLineChart4.removeData();
                                    door_myLineChart4.addData([data[0].value], data[0].datetime.split(' ')[1]);
                                    door_myLineChart4.update();
                                    door_before_date4 = data[0].datetime.split(' ')[1];
                                }

                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var door_select5 = $("#door-select-5").val();
                    if (door_select5 != "0") {
                        var door_url5 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=7)|and|(sensor=" + door_select5 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(door_url5);
                        $.ajax({
                            type: 'get',
                            url: door_url5,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                if (door_before_date5 != data[0].datetime.split(' ')[1]) {
                                    door_myLineChart5.removeData();
                                    door_myLineChart5.addData([data[0].value], data[0].datetime.split(' ')[1]);
                                    door_myLineChart5.update();
                                    door_before_date5 = data[0].datetime.split(' ')[1];
                                }

                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var door_select6 = $("#door-select-6").val();
                    if (door_select6 != "0") {
                        var door_url6 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=7)|and|(sensor=" + door_select6 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(door_url6);
                        $.ajax({
                            type: 'get',
                            url: door_url6,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                if (door_before_date6 != data[0].datetime.split(' ')[1]) {
                                    door_myLineChart6.removeData();
                                    door_myLineChart6.addData([data[0].value], data[0].datetime.split(' ')[1]);
                                    door_myLineChart6.update();
                                    door_before_date6 = data[0].datetime.split(' ')[1];
                                }

                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var door_select7 = $("#door-select-7").val();
                    if (door_select7 != "0") {
                        var door_url7 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=7)|and|(sensor=" + door_select7 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(door_url7);
                        $.ajax({
                            type: 'get',
                            url: door_url7,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                if (door_before_date7 != data[0].datetime.split(' ')[1]) {
                                    door_myLineChart7.removeData();
                                    door_myLineChart7.addData([data[0].value], data[0].datetime.split(' ')[1]);
                                    door_myLineChart7.update();
                                    door_before_date7 = data[0].datetime.split(' ')[1];
                                }

                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var door_select8 = $("#door-select-8").val();
                    if (door_select8 != "0") {
                        var door_url8 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=7)|and|(sensor=" + door_select8 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(door_url8);
                        $.ajax({
                            type: 'get',
                            url: door_url8,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                if (door_before_date8 != data[0].datetime.split(' ')[1]) {
                                    door_myLineChart8.removeData();
                                    door_myLineChart8.addData([data[0].value], data[0].datetime.split(' ')[1]);
                                    door_myLineChart8.update();
                                    door_before_date8 = data[0].datetime.split(' ')[1];
                                }

                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                    var door_select9 = $("#door-select-9").val();
                    if (door_select9 != "0") {
                        var door_url9 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/sensordata/where|((sensor_type=7)|and|(sensor=" + door_select9 + "))|and|(datetime$'" + beforedate.getFullYear() + "!" + (beforedate.getMonth() + 1).toString() + "!" + beforedate.getDate() + "')|order|by|pkey|desc|limit|1;";
                        console.log(door_url9);
                        $.ajax({
                            type: 'get',
                            url: door_url9,
                            contentType: 'application/JSON',
                            dataType: 'json',
                            success: function (data) {
                                //console.log("Data: " + data[0].value);
                                if (door_before_date9 != data[0].datetime.split(' ')[1]) {
                                    door_myLineChart9.removeData();
                                    door_myLineChart9.addData([data[0].value], data[0].datetime.split(' ')[1]);
                                    door_myLineChart9.update();
                                    door_before_date9 = data[0].datetime.split(' ')[1];
                                }

                            },
                            error: function (data, err) {
                                //alert('エラー' + err);
                            }
                        });
                    }

                }


            }, 10000);
            
            //位置センサ
            setInterval(function () {
                if (GetStart_Flag_Position) {

                    var position_url1 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/positiondata/where|(tag_id=1)|order|by|time_stamp|desc|limit|1;";
                    $.ajax({
                        type: 'get',
                        url: position_url1,
                        contentType: 'application/JSON',
                        dataType: 'json',
                        success: function (data) {
                            
                            positionsensor1_x = 1243.0 - data[0].pos_x * 0.1319813;
                            positionsensor1_y = 805.0 - data[0].pos_y * 0.1319813;
                            

                        },
                        error: function (data, err) {
                            //alert('エラー' + err);
                        }
                    });

                    var position_url2 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/positiondata/where|(tag_id=2)|order|by|time_stamp|desc|limit|1;";
                    $.ajax({
                        type: 'get',
                        url: position_url2,
                        contentType: 'application/JSON',
                        dataType: 'json',
                        success: function (data) {

                            positionsensor2_x = 1243.0 - data[0].pos_x * 0.1319813;
                            positionsensor2_y = 805.0 - data[0].pos_y * 0.1319813;


                        },
                        error: function (data, err) {
                            //alert('エラー' + err);
                        }
                    });

                    var position_url3 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/positiondata/where|(tag_id=3)|order|by|time_stamp|desc|limit|1;";
                    $.ajax({
                        type: 'get',
                        url: position_url3,
                        contentType: 'application/JSON',
                        dataType: 'json',
                        success: function (data) {

                            positionsensor3_x = 1243.0 - data[0].pos_x * 0.1319813;
                            positionsensor3_y = 805.0 - data[0].pos_y * 0.1319813;


                        },
                        error: function (data, err) {
                            //alert('エラー' + err);
                        }
                    });

                    var position_url4 = "http://8k3kx36e19v68g.home-ip.aterm.jp/PostgreSQL_API/api/positiondata/where|(tag_id=4)|order|by|time_stamp|desc|limit|1;";
                    $.ajax({
                        type: 'get',
                        url: position_url4,
                        contentType: 'application/JSON',
                        dataType: 'json',
                        success: function (data) {

                            positionsensor4_x = 1243.0 - data[0].pos_x * 0.1319813;
                            positionsensor4_y = 805.0 - data[0].pos_y * 0.1319813;


                        },
                        error: function (data, err) {
                            //alert('エラー' + err);
                        }
                    });

                    showAraPosSensor();

                }
            }, 500);

            //人感センサ
            setInterval(function () {
                if (GetStart_Flag_AraSensor) {

                    $.ajax({
                        type: 'get',
                        url: 'http://8k3kx36e19v68g.home-ip.aterm.jp/Cats/api/module/arakawa/HumanSensor',
                        contentType: 'application/JSON',
                        dataType: 'json',
                        scriptCharset: 'utf-8',

                        success: function (response) {

                            console.log("Response : =" + JSON.stringify(response));
                            var latest = response.Latest;

                            var queryData = { pw: null, since: latest, until: latest, num: 1, orderby: "desc", unitlist: null, noDate: true };

                            $.ajax({
                                type: 'post',
                                url: 'http://8k3kx36e19v68g.home-ip.aterm.jp/Cats/api/data/arakawa/HumanSensor',
                                data: JSON.stringify(queryData),
                                contentType: 'application/JSON',
                                dataType: 'json',
                                scriptCharset: 'utf-8',

                                success: function (response) {
                                    console.log("Response : =" + JSON.stringify(response));

                                    var max = Object.keys(response.data[0]).length;
                                    console.log("max: " + max);

                                    for (var i = 0; i < arasensorNum; i++) {
                                        if (i >= max) {
                                            break;
                                        }
                                        if (response.data[0][i] == "1") {
                                            flag_araSensors[i] = true;
                                        } else {
                                            flag_araSensors[i] = false;
                                        }
                                    }

                                    showAraPosSensor();

                                },

                                error: function (errorMsg) {
                                }

                            });
                        },

                        error: function (errorMsg) {
                        }

                    });

                }
            }, 1000);

            //位置＆人感 再生ボタン
            setInterval(function () {
                if (Flag_PositionPastMode && Flag_Play) {

                    if (human_pastData != null) {
                        if (nowpoint < Object.keys(human_pastData).length - 1) {
                            nowpoint++;

                            nowDate = human_pastData[nowpoint][0].substring(0, 4) + "/" + human_pastData[nowpoint][0].substring(4, 6) + "/" + human_pastData[nowpoint][0].substring(6, 8) + " " + human_pastData[nowpoint][0].substring(9, 11) + ":" + human_pastData[nowpoint][0].substring(11, 13) + ":" + human_pastData[nowpoint][0].substring(13, 15);
                            $("#P_NowDate").text(nowDate);
                            $('#Date_Slider').val(nowpoint + 1).slider('refresh');
                            $('#P_MinMax').text(String(nowpoint + 1) + "/" + Object.keys(human_pastData).length);

                            var max = Object.keys(human_pastData[nowpoint]).length - 1;
                            console.log("max: " + max);

                            for (var i = 0; i < arasensorNum; i++) {
                                if (i >= max) {
                                    break;
                                }
                                if (human_pastData[nowpoint][i + 1] == "1") {
                                    flag_araSensors[i] = true;
                                } else {
                                    flag_araSensors[i] = false;
                                }
                            }

                            if (Object.keys(position_pastData1).length != 0) {
                                for (var index in position_pastData1) {
                                    if (position_pastData1[index].time_stamp == nowDate) {
                                        positionsensor1_x = 1243.0 - position_pastData1[index].pos_x * 0.1319813;
                                        positionsensor1_y = 805.0 - position_pastData1[index].pos_y * 0.1319813;
                                        break;
                                    }
                                }
                            }
                            if (Object.keys(position_pastData2).length != 0) {
                                for (var index in position_pastData2) {
                                    if (position_pastData2[index].time_stamp == nowDate) {
                                        positionsensor2_x = 1243.0 - position_pastData2[index].pos_x * 0.1319813;
                                        positionsensor2_y = 805.0 - position_pastData2[index].pos_y * 0.1319813;
                                        break;
                                    }
                                }
                            }
                            if (Object.keys(position_pastData3).length != 0) {
                                for (var index in position_pastData3) {
                                    if (position_pastData3[index].time_stamp == nowDate) {
                                        positionsensor3_x = 1243.0 - position_pastData3[index].pos_x * 0.1319813;
                                        positionsensor3_y = 805.0 - position_pastData3[index].pos_y * 0.1319813;
                                        break;
                                    }
                                }
                            }
                            if (Object.keys(position_pastData4).length != 0) {
                                for (var index in position_pastData4) {
                                    if (position_pastData4[index].time_stamp == nowDate) {
                                        positionsensor4_x = 1243.0 - position_pastData4[index].pos_x * 0.1319813;
                                        positionsensor4_y = 805.0 - position_pastData4[index].pos_y * 0.1319813;
                                        break;
                                    }
                                }
                            }

                            showAraPosSensor();

                            if (nowpoint == Object.keys(human_pastData).length - 1) {
                                $('#Im_Play').attr("src", "Arakawa/再生.png");
                                Flag_Play = false;
                            }
                        }
                    }

                }
            }, 1000);

            //返り値はaddDays後のDate型変数
            function computeDate(year, month, day, addDays) {
                var dt = new Date(year, month - 1, day);
                var baseSec = dt.getTime();
                var addSec = addDays * 86400000;//日数 * 1日のミリ秒数
                var targetSec = baseSec + addSec;
                dt.setTime(targetSec);
                return dt;
            }

            //人感＆位置センサ値の可視化表示
            function showAraPosSensor() {
                positionctx.clearRect(0, 0, positioncanvas.width, positioncanvas.height);
                positionctx.drawImage(img_house, 0, 100, 1310, 834);
                positionctx.drawImage(img_positionsensor1, positionsensor1_x, positionsensor1_y, 91, 115);
                positionctx.drawImage(img_positionsensor2, positionsensor2_x, positionsensor2_y, 91, 115);
                positionctx.drawImage(img_positionsensor3, positionsensor3_x, positionsensor3_y, 91, 115);
                positionctx.drawImage(img_positionsensor4, positionsensor4_x, positionsensor4_y, 91, 115);

                for (var i = 0; i < arasensorNum; i++) {
                    positionctx.drawImage(img_araSensors[i], posArasensors[i * 2], posArasensors[i * 2 + 1], 80, 80);
                    if (flag_araSensors[i]) {
                        positionctx.drawImage(img_araCircles[i], posArasensors[i * 2]-17, posArasensors[i * 2 + 1]-17, 110, 110);
                    }
                }
            }

            //マウス処理（人感センサ位置変更の際に使用）
            document.onmouseup = function () {
                flag = 'off';
            }
            document.onmousemove = function (evt) {
                evt = (evt) || window.event;

                for (var i = 0; i < arasensorNum; i++) {
                    if (flag == (i + 1).toString() + "on") {
                        if (parseInt(evt.clientX + document.documentElement.scrollLeft) > parseInt(1310 + positioncanvas.offsetLeft) || parseInt(evt.clientY + document.documentElement.scrollTop) > parseInt(934 + positioncanvas.offsetTop) || parseInt(evt.clientX + document.documentElement.scrollLeft) < parseInt(positioncanvas.offsetLeft) || parseInt(evt.clientY + document.documentElement.scrollTop) < parseInt(positioncanvas.offsetTop)) {
                        } else {
                            posX = parseInt(evt.clientX - positioncanvas.offsetLeft + document.documentElement.scrollLeft);
                            posY = parseInt(evt.clientY - positioncanvas.offsetTop + document.documentElement.scrollTop);

                            posArasensors[i * 2] = posX - 40;
                            posArasensors[i * 2+1] = posY - 40;

                            showAraPosSensor();
                        }
                    }
                }
            }


        });

    </script>
</head>

<body>

    <!-- main page -->
    <section id="main" data-role="page">
        <!-- header -->
        <header data-role="header">
            <a href="#menu" data-role="button" id="openmenu" data-icon="bars">センサ種類の選択</a>
            <h1>スマートホーム内センサデータ可視化システム</h1>
            <a href="#logindialog" data-role="button" data-rel="dialog" class="ui-btn-right" id="dis_logindialog" data-icon="check">ログイン</a>
        </header>

        <!-- content -->
        <article id="content_home" data-role="content">
            <h1 id="Lb_select_mode">センサ種類を選択してください。</h1>
            <div id="powerShow">
                <img id="Im_icon_power" src="" />
                <a href="#pgTTMain" data-role="button" id="BT_GetStart_Power">センサデータ取得　開始</a>
                <!--<input id="BT_GetStart" type="button" value="センサデータ取得　開始" />-->
                <br />

                <table>
                    <tr>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="power-select-1">
                                    <option value="0">IDを選択してください</option>
                                    <option value="1">ID: 1</option>
                                    <option value="2">ID: 2</option>
                                    <option value="3">ID: 3</option>
                                    <option value="4">ID: 4</option>
                                    <option value="10">ID: 10</option>
                                    <option value="11">ID: 11</option>
                                    <option value="12">ID: 12</option>
                                    <option value="13">ID: 13</option>
                                    <option value="18">ID: 18</option>
                                    <option value="19">ID: 19</option>
                                    <option value="20">ID: 20</option>
                                    <option value="21">ID: 21</option>
                                    <option value="24">ID: 24</option>
                                    <option value="25">ID: 25</option>
                                    <option value="26">ID: 26</option>
                                    <option value="27">ID: 27</option>
                                    <option value="32">ID: 32</option>
                                    <option value="33">ID: 33</option>
                                    <option value="34">ID: 34</option>
                                    <option value="35">ID: 35</option>
                                    <option value="36">ID: 36</option>
                                    <option value="37">ID: 37</option>
                                    <option value="38">ID: 38</option>
                                    <option value="39">ID: 39</option>
                                    <option value="40">ID: 40</option>
                                </select>
                                <canvas id="power-myChart1" width="400" height="300"></canvas>
                            </div>
                        </td>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="power-select-2">
                                    <option value="0">IDを選択してください</option>
                                    <option value="1">ID: 1</option>
                                    <option value="2">ID: 2</option>
                                    <option value="3">ID: 3</option>
                                    <option value="4">ID: 4</option>
                                    <option value="10">ID: 10</option>
                                    <option value="11">ID: 11</option>
                                    <option value="12">ID: 12</option>
                                    <option value="13">ID: 13</option>
                                    <option value="18">ID: 18</option>
                                    <option value="19">ID: 19</option>
                                    <option value="20">ID: 20</option>
                                    <option value="21">ID: 21</option>
                                    <option value="24">ID: 24</option>
                                    <option value="25">ID: 25</option>
                                    <option value="26">ID: 26</option>
                                    <option value="27">ID: 27</option>
                                    <option value="32">ID: 32</option>
                                    <option value="33">ID: 33</option>
                                    <option value="34">ID: 34</option>
                                    <option value="35">ID: 35</option>
                                    <option value="36">ID: 36</option>
                                    <option value="37">ID: 37</option>
                                    <option value="38">ID: 38</option>
                                    <option value="39">ID: 39</option>
                                    <option value="40">ID: 40</option>
                                </select>
                                <canvas id="power-myChart2" width="400" height="300"></canvas>
                            </div>
                        </td>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="power-select-3">
                                    <option value="0">IDを選択してください</option>
                                    <option value="1">ID: 1</option>
                                    <option value="2">ID: 2</option>
                                    <option value="3">ID: 3</option>
                                    <option value="4">ID: 4</option>
                                    <option value="10">ID: 10</option>
                                    <option value="11">ID: 11</option>
                                    <option value="12">ID: 12</option>
                                    <option value="13">ID: 13</option>
                                    <option value="18">ID: 18</option>
                                    <option value="19">ID: 19</option>
                                    <option value="20">ID: 20</option>
                                    <option value="21">ID: 21</option>
                                    <option value="24">ID: 24</option>
                                    <option value="25">ID: 25</option>
                                    <option value="26">ID: 26</option>
                                    <option value="27">ID: 27</option>
                                    <option value="32">ID: 32</option>
                                    <option value="33">ID: 33</option>
                                    <option value="34">ID: 34</option>
                                    <option value="35">ID: 35</option>
                                    <option value="36">ID: 36</option>
                                    <option value="37">ID: 37</option>
                                    <option value="38">ID: 38</option>
                                    <option value="39">ID: 39</option>
                                    <option value="40">ID: 40</option>
                                </select>
                                <canvas id="power-myChart3" width="400" height="300"></canvas>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="power-select-4">
                                    <option value="0">IDを選択してください</option>
                                    <option value="1">ID: 1</option>
                                    <option value="2">ID: 2</option>
                                    <option value="3">ID: 3</option>
                                    <option value="4">ID: 4</option>
                                    <option value="10">ID: 10</option>
                                    <option value="11">ID: 11</option>
                                    <option value="12">ID: 12</option>
                                    <option value="13">ID: 13</option>
                                    <option value="18">ID: 18</option>
                                    <option value="19">ID: 19</option>
                                    <option value="20">ID: 20</option>
                                    <option value="21">ID: 21</option>
                                    <option value="24">ID: 24</option>
                                    <option value="25">ID: 25</option>
                                    <option value="26">ID: 26</option>
                                    <option value="27">ID: 27</option>
                                    <option value="32">ID: 32</option>
                                    <option value="33">ID: 33</option>
                                    <option value="34">ID: 34</option>
                                    <option value="35">ID: 35</option>
                                    <option value="36">ID: 36</option>
                                    <option value="37">ID: 37</option>
                                    <option value="38">ID: 38</option>
                                    <option value="39">ID: 39</option>
                                    <option value="40">ID: 40</option>
                                </select>
                                <canvas id="power-myChart4" width="400" height="300"></canvas>
                            </div>
                        </td>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="power-select-5">
                                    <option value="0">IDを選択してください</option>
                                    <option value="1">ID: 1</option>
                                    <option value="2">ID: 2</option>
                                    <option value="3">ID: 3</option>
                                    <option value="4">ID: 4</option>
                                    <option value="10">ID: 10</option>
                                    <option value="11">ID: 11</option>
                                    <option value="12">ID: 12</option>
                                    <option value="13">ID: 13</option>
                                    <option value="18">ID: 18</option>
                                    <option value="19">ID: 19</option>
                                    <option value="20">ID: 20</option>
                                    <option value="21">ID: 21</option>
                                    <option value="24">ID: 24</option>
                                    <option value="25">ID: 25</option>
                                    <option value="26">ID: 26</option>
                                    <option value="27">ID: 27</option>
                                    <option value="32">ID: 32</option>
                                    <option value="33">ID: 33</option>
                                    <option value="34">ID: 34</option>
                                    <option value="35">ID: 35</option>
                                    <option value="36">ID: 36</option>
                                    <option value="37">ID: 37</option>
                                    <option value="38">ID: 38</option>
                                    <option value="39">ID: 39</option>
                                    <option value="40">ID: 40</option>
                                </select>
                                <canvas id="power-myChart5" width="400" height="300"></canvas>
                            </div>
                        </td>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="power-select-6">
                                    <option value="0">IDを選択してください</option>
                                    <option value="1">ID: 1</option>
                                    <option value="2">ID: 2</option>
                                    <option value="3">ID: 3</option>
                                    <option value="4">ID: 4</option>
                                    <option value="10">ID: 10</option>
                                    <option value="11">ID: 11</option>
                                    <option value="12">ID: 12</option>
                                    <option value="13">ID: 13</option>
                                    <option value="18">ID: 18</option>
                                    <option value="19">ID: 19</option>
                                    <option value="20">ID: 20</option>
                                    <option value="21">ID: 21</option>
                                    <option value="24">ID: 24</option>
                                    <option value="25">ID: 25</option>
                                    <option value="26">ID: 26</option>
                                    <option value="27">ID: 27</option>
                                    <option value="32">ID: 32</option>
                                    <option value="33">ID: 33</option>
                                    <option value="34">ID: 34</option>
                                    <option value="35">ID: 35</option>
                                    <option value="36">ID: 36</option>
                                    <option value="37">ID: 37</option>
                                    <option value="38">ID: 38</option>
                                    <option value="39">ID: 39</option>
                                    <option value="40">ID: 40</option>
                                </select>
                                <canvas id="power-myChart6" width="400" height="300"></canvas>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="power-select-7">
                                    <option value="0">IDを選択してください</option>
                                    <option value="1">ID: 1</option>
                                    <option value="2">ID: 2</option>
                                    <option value="3">ID: 3</option>
                                    <option value="4">ID: 4</option>
                                    <option value="10">ID: 10</option>
                                    <option value="11">ID: 11</option>
                                    <option value="12">ID: 12</option>
                                    <option value="13">ID: 13</option>
                                    <option value="18">ID: 18</option>
                                    <option value="19">ID: 19</option>
                                    <option value="20">ID: 20</option>
                                    <option value="21">ID: 21</option>
                                    <option value="24">ID: 24</option>
                                    <option value="25">ID: 25</option>
                                    <option value="26">ID: 26</option>
                                    <option value="27">ID: 27</option>
                                    <option value="32">ID: 32</option>
                                    <option value="33">ID: 33</option>
                                    <option value="34">ID: 34</option>
                                    <option value="35">ID: 35</option>
                                    <option value="36">ID: 36</option>
                                    <option value="37">ID: 37</option>
                                    <option value="38">ID: 38</option>
                                    <option value="39">ID: 39</option>
                                    <option value="40">ID: 40</option>
                                </select>
                                <canvas id="power-myChart7" width="400" height="300"></canvas>
                            </div>
                        </td>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="power-select-8">
                                    <option value="0">IDを選択してください</option>
                                    <option value="1">ID: 1</option>
                                    <option value="2">ID: 2</option>
                                    <option value="3">ID: 3</option>
                                    <option value="4">ID: 4</option>
                                    <option value="10">ID: 10</option>
                                    <option value="11">ID: 11</option>
                                    <option value="12">ID: 12</option>
                                    <option value="13">ID: 13</option>
                                    <option value="18">ID: 18</option>
                                    <option value="19">ID: 19</option>
                                    <option value="20">ID: 20</option>
                                    <option value="21">ID: 21</option>
                                    <option value="24">ID: 24</option>
                                    <option value="25">ID: 25</option>
                                    <option value="26">ID: 26</option>
                                    <option value="27">ID: 27</option>
                                    <option value="32">ID: 32</option>
                                    <option value="33">ID: 33</option>
                                    <option value="34">ID: 34</option>
                                    <option value="35">ID: 35</option>
                                    <option value="36">ID: 36</option>
                                    <option value="37">ID: 37</option>
                                    <option value="38">ID: 38</option>
                                    <option value="39">ID: 39</option>
                                    <option value="40">ID: 40</option>
                                </select>
                                <canvas id="power-myChart8" width="400" height="300"></canvas>
                            </div>
                        </td>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="power-select-9">
                                    <option value="0">IDを選択してください</option>
                                    <option value="1">ID: 1</option>
                                    <option value="2">ID: 2</option>
                                    <option value="3">ID: 3</option>
                                    <option value="4">ID: 4</option>
                                    <option value="10">ID: 10</option>
                                    <option value="11">ID: 11</option>
                                    <option value="12">ID: 12</option>
                                    <option value="13">ID: 13</option>
                                    <option value="18">ID: 18</option>
                                    <option value="19">ID: 19</option>
                                    <option value="20">ID: 20</option>
                                    <option value="21">ID: 21</option>
                                    <option value="24">ID: 24</option>
                                    <option value="25">ID: 25</option>
                                    <option value="26">ID: 26</option>
                                    <option value="27">ID: 27</option>
                                    <option value="32">ID: 32</option>
                                    <option value="33">ID: 33</option>
                                    <option value="34">ID: 34</option>
                                    <option value="35">ID: 35</option>
                                    <option value="36">ID: 36</option>
                                    <option value="37">ID: 37</option>
                                    <option value="38">ID: 38</option>
                                    <option value="39">ID: 39</option>
                                    <option value="40">ID: 40</option>
                                </select>
                                <canvas id="power-myChart9" width="400" height="300"></canvas>
                            </div>
                        </td>
                    </tr>
                </table>



            </div>
            <div id="environmentShow">
                <img id="Im_icon_environment" src="" />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <img id="Im_legend_environment" src="" />
                <a href="#pgTTMain" data-role="button" id="BT_GetStart_Environment">センサデータ取得　開始</a>
                <!--<input id="BT_GetStart" type="button" value="センサデータ取得　開始" />-->
                <br />

                <table>
                    <tr>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="environment-select-1">
                                    <option value="0">IDを選択してください</option>
                                    <option value="9">ID: 9</option>
                                    <option value="16">ID: 16</option>
                                    <option value="17">ID: 17</option>
                                    <option value="23">ID: 23</option>
                                    <option value="31">ID: 31</option>
                                    <option value="44">ID: 44</option>
                                </select>
                                <canvas id="environment-myChart1" width="400" height="300"></canvas>
                            </div>
                        </td>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="environment-select-2">
                                    <option value="0">IDを選択してください</option>
                                    <option value="9">ID: 9</option>
                                    <option value="16">ID: 16</option>
                                    <option value="17">ID: 17</option>
                                    <option value="23">ID: 23</option>
                                    <option value="31">ID: 31</option>
                                    <option value="44">ID: 44</option>
                                </select>
                                <canvas id="environment-myChart2" width="400" height="300"></canvas>
                            </div>
                        </td>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="environment-select-3">
                                    <option value="0">IDを選択してください</option>
                                    <option value="9">ID: 9</option>
                                    <option value="16">ID: 16</option>
                                    <option value="17">ID: 17</option>
                                    <option value="23">ID: 23</option>
                                    <option value="31">ID: 31</option>
                                    <option value="44">ID: 44</option>
                                </select>
                                <canvas id="environment-myChart3" width="400" height="300"></canvas>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="environment-select-4">
                                    <option value="0">IDを選択してください</option>
                                    <option value="9">ID: 9</option>
                                    <option value="16">ID: 16</option>
                                    <option value="17">ID: 17</option>
                                    <option value="23">ID: 23</option>
                                    <option value="31">ID: 31</option>
                                    <option value="44">ID: 44</option>
                                </select>
                                <canvas id="environment-myChart4" width="400" height="300"></canvas>
                            </div>
                        </td>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="environment-select-5">
                                    <option value="0">IDを選択してください</option>
                                    <option value="9">ID: 9</option>
                                    <option value="16">ID: 16</option>
                                    <option value="17">ID: 17</option>
                                    <option value="23">ID: 23</option>
                                    <option value="31">ID: 31</option>
                                    <option value="44">ID: 44</option>
                                </select>
                                <canvas id="environment-myChart5" width="400" height="300"></canvas>
                            </div>
                        </td>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="environment-select-6">
                                    <option value="0">IDを選択してください</option>
                                    <option value="9">ID: 9</option>
                                    <option value="16">ID: 16</option>
                                    <option value="17">ID: 17</option>
                                    <option value="23">ID: 23</option>
                                    <option value="31">ID: 31</option>
                                    <option value="44">ID: 44</option>
                                </select>
                                <canvas id="environment-myChart6" width="400" height="300"></canvas>
                            </div>
                        </td>
                    </tr>
                </table>

            </div>
            <div id="doorShow">
                <img id="Im_icon_door" src="" />
                <a href="#pgTTMain" data-role="button" id="BT_GetStart_Door">センサデータ取得　開始</a>
                <!--<input id="BT_GetStart" type="button" value="センサデータ取得　開始" />-->
                <br />

                <table>
                    <tr>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="door-select-1">
                                    <option value="0">IDを選択してください</option>
                                    <option value="5">ID: 5</option>
                                    <option value="6">ID: 6</option>
                                    <option value="7">ID: 7</option>
                                    <option value="8">ID: 8</option>
                                    <option value="14">ID: 14</option>
                                    <option value="15">ID: 15</option>
                                    <option value="22">ID: 22</option>
                                    <option value="28">ID: 28</option>
                                    <option value="29">ID: 29</option>
                                    <option value="30">ID: 30</option>
                                    <option value="41">ID: 41</option>
                                    <option value="42">ID: 42</option>
                                    <option value="43">ID: 43</option>
                                    <option value="45">ID: 45</option>
                                    <option value="46">ID: 46</option>
                                </select>
                                <canvas id="door-myChart1" width="400" height="300"></canvas>
                            </div>
                        </td>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="door-select-2">
                                    <option value="0">IDを選択してください</option>
                                    <option value="5">ID: 5</option>
                                    <option value="6">ID: 6</option>
                                    <option value="7">ID: 7</option>
                                    <option value="8">ID: 8</option>
                                    <option value="14">ID: 14</option>
                                    <option value="15">ID: 15</option>
                                    <option value="22">ID: 22</option>
                                    <option value="28">ID: 28</option>
                                    <option value="29">ID: 29</option>
                                    <option value="30">ID: 30</option>
                                    <option value="41">ID: 41</option>
                                    <option value="42">ID: 42</option>
                                    <option value="43">ID: 43</option>
                                    <option value="45">ID: 45</option>
                                    <option value="46">ID: 46</option>
                                </select>
                                <canvas id="door-myChart2" width="400" height="300"></canvas>
                            </div>
                        </td>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="door-select-3">
                                    <option value="0">IDを選択してください</option>
                                    <option value="5">ID: 5</option>
                                    <option value="6">ID: 6</option>
                                    <option value="7">ID: 7</option>
                                    <option value="8">ID: 8</option>
                                    <option value="14">ID: 14</option>
                                    <option value="15">ID: 15</option>
                                    <option value="22">ID: 22</option>
                                    <option value="28">ID: 28</option>
                                    <option value="29">ID: 29</option>
                                    <option value="30">ID: 30</option>
                                    <option value="41">ID: 41</option>
                                    <option value="42">ID: 42</option>
                                    <option value="43">ID: 43</option>
                                    <option value="45">ID: 45</option>
                                    <option value="46">ID: 46</option>
                                </select>
                                <canvas id="door-myChart3" width="400" height="300"></canvas>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="door-select-4">
                                    <option value="0">IDを選択してください</option>
                                    <option value="5">ID: 5</option>
                                    <option value="6">ID: 6</option>
                                    <option value="7">ID: 7</option>
                                    <option value="8">ID: 8</option>
                                    <option value="14">ID: 14</option>
                                    <option value="15">ID: 15</option>
                                    <option value="22">ID: 22</option>
                                    <option value="28">ID: 28</option>
                                    <option value="29">ID: 29</option>
                                    <option value="30">ID: 30</option>
                                    <option value="41">ID: 41</option>
                                    <option value="42">ID: 42</option>
                                    <option value="43">ID: 43</option>
                                    <option value="45">ID: 45</option>
                                    <option value="46">ID: 46</option>
                                </select>
                                <canvas id="door-myChart4" width="400" height="300"></canvas>
                            </div>
                        </td>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="door-select-5">
                                    <option value="0">IDを選択してください</option>
                                    <option value="5">ID: 5</option>
                                    <option value="6">ID: 6</option>
                                    <option value="7">ID: 7</option>
                                    <option value="8">ID: 8</option>
                                    <option value="14">ID: 14</option>
                                    <option value="15">ID: 15</option>
                                    <option value="22">ID: 22</option>
                                    <option value="28">ID: 28</option>
                                    <option value="29">ID: 29</option>
                                    <option value="30">ID: 30</option>
                                    <option value="41">ID: 41</option>
                                    <option value="42">ID: 42</option>
                                    <option value="43">ID: 43</option>
                                    <option value="45">ID: 45</option>
                                    <option value="46">ID: 46</option>
                                </select>
                                <canvas id="door-myChart5" width="400" height="300"></canvas>
                            </div>
                        </td>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="door-select-6">
                                    <option value="0">IDを選択してください</option>
                                    <option value="5">ID: 5</option>
                                    <option value="6">ID: 6</option>
                                    <option value="7">ID: 7</option>
                                    <option value="8">ID: 8</option>
                                    <option value="14">ID: 14</option>
                                    <option value="15">ID: 15</option>
                                    <option value="22">ID: 22</option>
                                    <option value="28">ID: 28</option>
                                    <option value="29">ID: 29</option>
                                    <option value="30">ID: 30</option>
                                    <option value="41">ID: 41</option>
                                    <option value="42">ID: 42</option>
                                    <option value="43">ID: 43</option>
                                    <option value="45">ID: 45</option>
                                    <option value="46">ID: 46</option>
                                </select>
                                <canvas id="door-myChart6" width="400" height="300"></canvas>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="door-select-7">
                                    <option value="0">IDを選択してください</option>
                                    <option value="5">ID: 5</option>
                                    <option value="6">ID: 6</option>
                                    <option value="7">ID: 7</option>
                                    <option value="8">ID: 8</option>
                                    <option value="14">ID: 14</option>
                                    <option value="15">ID: 15</option>
                                    <option value="22">ID: 22</option>
                                    <option value="28">ID: 28</option>
                                    <option value="29">ID: 29</option>
                                    <option value="30">ID: 30</option>
                                    <option value="41">ID: 41</option>
                                    <option value="42">ID: 42</option>
                                    <option value="43">ID: 43</option>
                                    <option value="45">ID: 45</option>
                                    <option value="46">ID: 46</option>
                                </select>
                                <canvas id="door-myChart7" width="400" height="300"></canvas>
                            </div>
                        </td>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="door-select-8">
                                    <option value="0">IDを選択してください</option>
                                    <option value="5">ID: 5</option>
                                    <option value="6">ID: 6</option>
                                    <option value="7">ID: 7</option>
                                    <option value="8">ID: 8</option>
                                    <option value="14">ID: 14</option>
                                    <option value="15">ID: 15</option>
                                    <option value="22">ID: 22</option>
                                    <option value="28">ID: 28</option>
                                    <option value="29">ID: 29</option>
                                    <option value="30">ID: 30</option>
                                    <option value="41">ID: 41</option>
                                    <option value="42">ID: 42</option>
                                    <option value="43">ID: 43</option>
                                    <option value="45">ID: 45</option>
                                    <option value="46">ID: 46</option>
                                </select>
                                <canvas id="door-myChart8" width="400" height="300"></canvas>
                            </div>
                        </td>
                        <td>
                            <div class="canvas-chart" style="width:400px;">
                                <select id="door-select-9">
                                    <option value="0">IDを選択してください</option>
                                    <option value="5">ID: 5</option>
                                    <option value="6">ID: 6</option>
                                    <option value="7">ID: 7</option>
                                    <option value="8">ID: 8</option>
                                    <option value="14">ID: 14</option>
                                    <option value="15">ID: 15</option>
                                    <option value="22">ID: 22</option>
                                    <option value="28">ID: 28</option>
                                    <option value="29">ID: 29</option>
                                    <option value="30">ID: 30</option>
                                    <option value="41">ID: 41</option>
                                    <option value="42">ID: 42</option>
                                    <option value="43">ID: 43</option>
                                    <option value="45">ID: 45</option>
                                    <option value="46">ID: 46</option>
                                </select>
                                <canvas id="door-myChart9" width="400" height="300"></canvas>
                            </div>
                        </td>
                    </tr>
                </table>

            </div>
            <div id="positionShow">
                <img id="Im_icon_position" src="" />
                
                <div id="positionShow_real">
                    <a href="#pgTTMain" data-role="button" id="BT_GetStart_Position">位置センサデータ取得　開始</a>
                    <a href="#pgTTMain" data-role="button" id="BT_GetStart_AraSensor">人感センサデータ取得　開始</a>
                </div>
                <div id="positionShow_past">
                    <div id="Div_DateSelect" style="display: table;">
                        <div style="display:table-cell; vertical-align:middle;">
                            <p> &nbsp;&nbsp;日付指定：&nbsp;&nbsp; </p>
                        </div>
                        <div style="display:table-cell; vertical-align:middle;">
                            <input type="text" id="Date_since" value="2015/12/08 10:40:18" style="width:200px; display:table-cell; vertical-align:middle;" />
                        </div>
                        <div style="display:table-cell; vertical-align:middle;">
                            <p style="display:table-cell; vertical-align:middle;"> &nbsp;&nbsp;～&nbsp;&nbsp; </p>
                        </div>
                        <div style="display:table-cell; vertical-align:middle;">
                            <input type="text" id="Date_until" value="2015/12/08 10:40:28" style="width:200px; display:table-cell; vertical-align:middle;" />
                        </div>
                        <div style="display:table-cell; vertical-align:middle;">
                            <p style="display:table-cell; vertical-align:middle;"> &nbsp;&nbsp;&nbsp;&nbsp; </p>
                        </div>
                        <div style="display:table-cell; vertical-align:middle;">
                            <input type="button" id="BT_DataGet" value="データ取得" style="display:table-cell; vertical-align:middle;" />
                        </div>
                    </div>
                    <div id="Div_Operater_Buttons" style="display: table;">
                        <div style="display:table-cell; vertical-align:middle;">
                            <a id="BT_DateBefore" href="#" data-role="button" data-icon="arrow-l" data-iconpos="left" data-inline="true" style="display:table-cell; vertical-align:middle;">Before</a>
                        </div>
                        <div style="display:table-cell; vertical-align:middle;">
                            <p style="display:table-cell; vertical-align:middle;"> &nbsp;&nbsp;&nbsp;&nbsp; </p>
                        </div>
                        <div style="display:table-cell; vertical-align:middle;">
                            <img id="Im_Play" src="Arakawa/再生.png" width="50" height="50" style="padding:5px" />
                        </div>
                        <div style="display:table-cell; vertical-align:middle;">
                            <p style="display:table-cell; vertical-align:middle;"> &nbsp;&nbsp;&nbsp;&nbsp; </p>
                        </div>
                        <div style="display:table-cell; vertical-align:middle;">
                            <a id="BT_DateAfter" href="#" data-role="button" data-icon="arrow-r" data-iconpos="right" data-inline="true" style="display:table-cell; vertical-align:middle;">&nbsp;After&nbsp;</a>
                        </div>
                        <div style="display:table-cell; vertical-align:middle;">
                            <p style="display:table-cell; vertical-align:middle;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </p>
                        </div>
                        <div style="display:table-cell; vertical-align:middle;">
                            <p id="P_NowDate" style="display:table-cell; vertical-align:middle;"> 0000/00/00 00:00:00 </p>
                        </div>
                    </div>
                    <div id="Div_Slider" style="display: table;">
                        <div style="display:table-cell; vertical-align:middle; width:500px;">
                            <input id="Date_Slider" type="range"
                                   min="1" max="50" step="1" value="1"
                                   data-highlight="true" />
                        </div>
                        <div style="display:table-cell; vertical-align:middle;">
                            <p style="display:table-cell; vertical-align:middle;"> &nbsp;&nbsp;&nbsp;&nbsp; </p>
                        </div>
                        <div style="display:table-cell; vertical-align:middle;">
                            <p id="P_MinMax" style="display:table-cell; vertical-align:middle;"> 1/50 </p>
                        </div>
                    </div>
                </div>
                <a href="#pgTTMain" data-role="button" data-inline="true" id="BT_Save_AraSensorPosition">人感センサ位置 保存</a>
                <br />
                <canvas id="position-Canvas" width="1310" height="934"></canvas>
            </div>
        </article>


        <!-- menu -->
        <div id="menu" data-role="panel" data-position="left" data-display="push" data-theme="a" data-dismissible="false">
            <h2>センサ種類リスト<a href="#demo-links" data-rel="close" data-role="button" data-theme="a" data-icon="delete" data-inline="true" data-mini="true" data-iconpos="notext"></a></h2>

            <!-- module set list -->
            <div data-role="collapsible-set" data-theme="a" data-content-theme="c" data-collapsed-icon="arrow-d" data-expanded-icon="arrow-u" data-iconpos="right">
                <div data-role="collapsible" style="text-align:center;">
                    <h3> 電力センサ </h3>
                    <ul data-role="listview" data-icon="false" data-iconpos="bottom">
                        <li><a id="power-real" style="text-align:center;" onclick="realclick()"> リアルタイムモード </a></li>
                        <li><a id="power-past" style="text-align:center;" onclick="pastclick()"> 期間指定モード </a></li>
                    </ul>
                </div>
                <div data-role="collapsible" style="text-align:center;">
                    <h3> 環境センサ </h3>
                    <ul data-role="listview" data-icon="false" data-iconpos="bottom">
                        <li><a id="environment-real" style="text-align:center;" onclick="realclick()"> リアルタイムモード </a></li>
                        <li><a id="environment-past" style="text-align:center;" onclick="pastclick()"> 期間指定モード </a></li>
                    </ul>
                </div>
                <div data-role="collapsible" style="text-align:center;">
                    <h3> 開閉センサ </h3>
                    <ul data-role="listview" data-icon="false" data-iconpos="bottom">
                        <li><a id="door-real" style="text-align:center;" onclick="realclick()"> リアルタイムモード </a></li>
                        <li><a id="door-past" style="text-align:center;" onclick="pastclick()"> 期間指定モード </a></li>
                    </ul>
                </div>
                <div data-role="collapsible" style="text-align:center;">
                    <h3> 位置センサ </h3>
                    <ul data-role="listview" data-icon="false" data-iconpos="bottom">
                        <li><a id="position-real" style="text-align:center;" > リアルタイムモード </a></li>
                        <li><a id="position-past" style="text-align:center;" > 期間指定モード </a></li>
                    </ul>
                </div>
            </div>

            <p id="userid"></p>
            <p id="password"></p>
        </div>

    </section>
    <!-- login dialog -->
    <section id="logindialog" data-role="page">

        <!-- header -->
        <header data-role="header">
            <h1>ログイン画面</h1>
        </header>

        <!-- content -->
        <article data-role="content">
            <p>ユーザーID:</p>
            <input id="input_userid" type="text" value="" data-inline="true" data-iconpos="right" />
            <p>パスワード:</p>
            <input id="input_password" type="password" value="" data-inline="true" data-iconpos="right" />
        </article>

        <!-- footer -->
        <footer data-role="footer">
            <div class="ui-grid-a">
                <div class="ui-block-a"><a type="button" id="bt_login" href="#main">ログイン</a></div>
                <div class="ui-block-b"><a type="button" id="bt_cancel" href="#main">キャンセル</a></div>
            </div>
        </footer>
    </section>

</body>
</html>
